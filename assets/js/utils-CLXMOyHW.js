import{j as it}from"./jsx-runtime-DdxpLdx6.js";import{r as I}from"./index-Bk7LAl9r.js";import{c as wn}from"./createLucideIcon-DO4rnCdN.js";import{C as Qn}from"./chevron-up-D7OYm28i.js";import{C as Jn}from"./chevron-down-BfzRN9Ux.js";/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],tr=wn("maximize-2",Zn);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],nr=wn("minimize-2",er);var rr={value:()=>{}};function Zt(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ce(n)}function ce(t){this._=t}function ir(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ce.prototype=Zt.prototype={constructor:ce,on:function(t,e){var n=this._,r=ir(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=ar(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=Ge(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ge(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ce(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function ar(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ge(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=rr,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ae="http://www.w3.org/1999/xhtml";const Ke={svg:"http://www.w3.org/2000/svg",xhtml:Ae,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function we(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ke.hasOwnProperty(e)?{space:Ke[e],local:t}:t}function or(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ae&&e.documentElement.namespaceURI===Ae?e.createElement(t):e.createElementNS(n,t)}}function sr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _n(t){var e=we(t);return(e.local?sr:or)(e)}function ur(){}function He(t){return t==null?ur:function(){return this.querySelector(t)}}function lr(t){typeof t!="function"&&(t=He(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),c,u,l=0;l<o;++l)(c=a[l])&&(u=t.call(c,c.__data__,l,a))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new dt(r,this._parents)}function cr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fr(){return[]}function bn(t){return t==null?fr:function(){return this.querySelectorAll(t)}}function hr(t){return function(){return cr(t.apply(this,arguments))}}function dr(t){typeof t=="function"?t=hr(t):t=bn(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,c,u=0;u<s;++u)(c=o[u])&&(r.push(t.call(c,c.__data__,u,o)),i.push(c));return new dt(r,i)}function kn(t){return function(){return this.matches(t)}}function Nn(t){return function(e){return e.matches(t)}}var pr=Array.prototype.find;function gr(t){return function(){return pr.call(this.children,t)}}function mr(){return this.firstElementChild}function yr(t){return this.select(t==null?mr:gr(typeof t=="function"?t:Nn(t)))}var vr=Array.prototype.filter;function xr(){return Array.from(this.children)}function wr(t){return function(){return vr.call(this.children,t)}}function _r(t){return this.selectAll(t==null?xr:wr(typeof t=="function"?t:Nn(t)))}function br(t){typeof t!="function"&&(t=kn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],c,u=0;u<o;++u)(c=a[u])&&t.call(c,c.__data__,u,a)&&s.push(c);return new dt(r,this._parents)}function Mn(t){return new Array(t.length)}function kr(){return new dt(this._enter||this._groups.map(Mn),this._parents)}function pe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pe.prototype={constructor:pe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nr(t){return function(){return t}}function Mr(t,e,n,r,i,a){for(var o=0,s,c=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new pe(t,a[o]);for(;o<c;++o)(s=e[o])&&(i[o]=s)}function Sr(t,e,n,r,i,a,o){var s,c,u=new Map,l=e.length,h=a.length,f=new Array(l),d;for(s=0;s<l;++s)(c=e[s])&&(f[s]=d=o.call(c,c.__data__,s,e)+"",u.has(d)?i[s]=c:u.set(d,c));for(s=0;s<h;++s)d=o.call(t,a[s],s,a)+"",(c=u.get(d))?(r[s]=c,c.__data__=a[s],u.delete(d)):n[s]=new pe(t,a[s]);for(s=0;s<l;++s)(c=e[s])&&u.get(f[s])===c&&(i[s]=c)}function $r(t){return t.__data__}function Cr(t,e){if(!arguments.length)return Array.from(this,$r);var n=e?Sr:Mr,r=this._parents,i=this._groups;typeof t!="function"&&(t=Nr(t));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var l=r[u],h=i[u],f=h.length,d=Er(t.call(l,l&&l.__data__,u,r)),_=d.length,v=s[u]=new Array(_),y=o[u]=new Array(_),g=c[u]=new Array(f);n(l,h,v,y,g,d,e);for(var x=0,b=0,p,N;x<_;++x)if(p=v[x]){for(x>=b&&(b=x+1);!(N=y[b])&&++b<_;);p._next=N||null}}return o=new dt(o,r),o._enter=s,o._exit=c,o}function Er(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ar(){return new dt(this._exit||this._groups.map(Mn),this._parents)}function zr(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function qr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),c=0;c<o;++c)for(var u=n[c],l=r[c],h=u.length,f=s[c]=new Array(h),d,_=0;_<h;++_)(d=u[_]||l[_])&&(f[_]=d);for(;c<i;++c)s[c]=n[c];return new dt(s,this._parents)}function Tr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Vr(t){t||(t=Dr);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=new Array(s),u,l=0;l<s;++l)(u=o[l])&&(c[l]=u);c.sort(e)}return new dt(i,this._parents).order()}function Dr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Lr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ir(){return Array.from(this)}function Rr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Hr(){let t=0;for(const e of this)++t;return t}function Xr(){return!this.node()}function Pr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Yr(t){return function(){this.removeAttribute(t)}}function Fr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wr(t,e){return function(){this.setAttribute(t,e)}}function Or(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Br(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function jr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ur(t,e){var n=we(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Fr:Yr:typeof e=="function"?n.local?jr:Br:n.local?Or:Wr)(n,e))}function Sn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gr(t){return function(){this.style.removeProperty(t)}}function Kr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Qr(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Jr(t,e,n){return arguments.length>1?this.each((e==null?Gr:typeof e=="function"?Qr:Kr)(t,e,n??"")):Xt(this.node(),t)}function Xt(t,e){return t.style.getPropertyValue(e)||Sn(t).getComputedStyle(t,null).getPropertyValue(e)}function Zr(t){return function(){delete this[t]}}function ti(t,e){return function(){this[t]=e}}function ei(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ni(t,e){return arguments.length>1?this.each((e==null?Zr:typeof e=="function"?ei:ti)(t,e)):this.node()[t]}function $n(t){return t.trim().split(/^|\s+/)}function Xe(t){return t.classList||new Cn(t)}function Cn(t){this._node=t,this._names=$n(t.getAttribute("class")||"")}Cn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function En(t,e){for(var n=Xe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function An(t,e){for(var n=Xe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ri(t){return function(){En(this,t)}}function ii(t){return function(){An(this,t)}}function ai(t,e){return function(){(e.apply(this,arguments)?En:An)(this,t)}}function oi(t,e){var n=$n(t+"");if(arguments.length<2){for(var r=Xe(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ai:e?ri:ii)(n,e))}function si(){this.textContent=""}function ui(t){return function(){this.textContent=t}}function li(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ci(t){return arguments.length?this.each(t==null?si:(typeof t=="function"?li:ui)(t)):this.node().textContent}function fi(){this.innerHTML=""}function hi(t){return function(){this.innerHTML=t}}function di(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function pi(t){return arguments.length?this.each(t==null?fi:(typeof t=="function"?di:hi)(t)):this.node().innerHTML}function gi(){this.nextSibling&&this.parentNode.appendChild(this)}function mi(){return this.each(gi)}function yi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vi(){return this.each(yi)}function xi(t){var e=typeof t=="function"?t:_n(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wi(){return null}function _i(t,e){var n=typeof t=="function"?t:_n(t),r=e==null?wi:typeof e=="function"?e:He(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bi(){var t=this.parentNode;t&&t.removeChild(this)}function ki(){return this.each(bi)}function Ni(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(t){return this.select(t?Mi:Ni)}function $i(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ci(t){return function(e){t.call(this,e,this.__data__)}}function Ei(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ai(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function zi(t,e,n){return function(){var r=this.__on,i,a=Ci(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function qi(t,e,n){var r=Ei(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value}return}for(s=e?zi:Ai,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function zn(t,e,n){var r=Sn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ti(t,e){return function(){return zn(this,t,e)}}function Vi(t,e){return function(){return zn(this,t,e.apply(this,arguments))}}function Di(t,e){return this.each((typeof e=="function"?Vi:Ti)(t,e))}function*Li(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var qn=[null];function dt(t,e){this._groups=t,this._parents=e}function te(){return new dt([[document.documentElement]],qn)}function Ii(){return this}dt.prototype=te.prototype={constructor:dt,select:lr,selectAll:dr,selectChild:yr,selectChildren:_r,filter:br,data:Cr,enter:kr,exit:Ar,join:zr,merge:qr,selection:Ii,order:Tr,sort:Vr,call:Lr,nodes:Ir,node:Rr,size:Hr,empty:Xr,each:Pr,attr:Ur,style:Jr,property:ni,classed:oi,text:ci,html:pi,raise:mi,lower:vi,append:xi,insert:_i,remove:ki,clone:Si,datum:$i,on:qi,dispatch:Di,[Symbol.iterator]:Li};function tt(t){return typeof t=="string"?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],qn)}function Ri(t){let e;for(;e=t.sourceEvent;)t=e;return t}function kt(t,e){if(t=Ri(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Hi={passive:!1},Ut={capture:!0,passive:!1};function Se(t){t.stopImmediatePropagation()}function Lt(t){t.preventDefault(),t.stopImmediatePropagation()}function Tn(t){var e=t.document.documentElement,n=tt(t).on("dragstart.drag",Lt,Ut);"onselectstart"in e?n.on("selectstart.drag",Lt,Ut):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Vn(t,e){var n=t.document.documentElement,r=tt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Lt,Ut),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ae=t=>()=>t;function ze(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}ze.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Xi(t){return!t.ctrlKey&&!t.button}function Pi(){return this.parentNode}function Yi(t,e){return e??{x:t.x,y:t.y}}function Fi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dn(){var t=Xi,e=Pi,n=Yi,r=Fi,i={},a=Zt("start","drag","end"),o=0,s,c,u,l,h=0;function f(p){p.on("mousedown.drag",d).filter(r).on("touchstart.drag",y).on("touchmove.drag",g,Hi).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(p,N){if(!(l||!t.call(this,p,N))){var k=b(this,e.call(this,p,N),p,N,"mouse");k&&(tt(p.view).on("mousemove.drag",_,Ut).on("mouseup.drag",v,Ut),Tn(p.view),Se(p),u=!1,s=p.clientX,c=p.clientY,k("start",p))}}function _(p){if(Lt(p),!u){var N=p.clientX-s,k=p.clientY-c;u=N*N+k*k>h}i.mouse("drag",p)}function v(p){tt(p.view).on("mousemove.drag mouseup.drag",null),Vn(p.view,u),Lt(p),i.mouse("end",p)}function y(p,N){if(t.call(this,p,N)){var k=p.changedTouches,M=e.call(this,p,N),q=k.length,S,V;for(S=0;S<q;++S)(V=b(this,M,p,N,k[S].identifier,k[S]))&&(Se(p),V("start",p,k[S]))}}function g(p){var N=p.changedTouches,k=N.length,M,q;for(M=0;M<k;++M)(q=i[N[M].identifier])&&(Lt(p),q("drag",p,N[M]))}function x(p){var N=p.changedTouches,k=N.length,M,q;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),M=0;M<k;++M)(q=i[N[M].identifier])&&(Se(p),q("end",p,N[M]))}function b(p,N,k,M,q,S){var V=a.copy(),P=kt(S||k,N),Z,et,m;if((m=n.call(p,new ze("beforestart",{sourceEvent:k,target:f,identifier:q,active:o,x:P[0],y:P[1],dx:0,dy:0,dispatch:V}),M))!=null)return Z=m.x-P[0]||0,et=m.y-P[1]||0,function C(w,z,L){var $=P,T;switch(w){case"start":i[q]=C,T=o++;break;case"end":delete i[q],--o;case"drag":P=kt(L||z,N),T=o;break}V.call(w,p,new ze(w,{sourceEvent:z,subject:m,target:f,identifier:q,active:T,x:P[0]+Z,y:P[1]+et,dx:P[0]-$[0],dy:P[1]-$[1],dispatch:V}),M)}}return f.filter=function(p){return arguments.length?(t=typeof p=="function"?p:ae(!!p),f):t},f.container=function(p){return arguments.length?(e=typeof p=="function"?p:ae(p),f):e},f.subject=function(p){return arguments.length?(n=typeof p=="function"?p:ae(p),f):n},f.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:ae(!!p),f):r},f.on=function(){var p=a.on.apply(a,arguments);return p===a?f:p},f.clickDistance=function(p){return arguments.length?(h=(p=+p)*p,f):Math.sqrt(h)},f}function Pe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ln(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ee(){}var Gt=.7,ge=1/Gt,It="\\s*([+-]?\\d+)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wi=/^#([0-9a-f]{3,8})$/,Oi=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),Bi=new RegExp(`^rgb\\(${xt},${xt},${xt}\\)$`),ji=new RegExp(`^rgba\\(${It},${It},${It},${Kt}\\)$`),Ui=new RegExp(`^rgba\\(${xt},${xt},${xt},${Kt}\\)$`),Gi=new RegExp(`^hsl\\(${Kt},${xt},${xt}\\)$`),Ki=new RegExp(`^hsla\\(${Kt},${xt},${xt},${Kt}\\)$`),Qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pe(ee,Qt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Je,formatHex:Je,formatHex8:Qi,formatHsl:Ji,formatRgb:Ze,toString:Ze});function Je(){return this.rgb().formatHex()}function Qi(){return this.rgb().formatHex8()}function Ji(){return In(this).formatHsl()}function Ze(){return this.rgb().formatRgb()}function Qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tn(e):n===3?new ft(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Oi.exec(t))?new ft(e[1],e[2],e[3],1):(e=Bi.exec(t))?new ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ji.exec(t))?oe(e[1],e[2],e[3],e[4]):(e=Ui.exec(t))?oe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gi.exec(t))?rn(e[1],e[2]/100,e[3]/100,1):(e=Ki.exec(t))?rn(e[1],e[2]/100,e[3]/100,e[4]):Qe.hasOwnProperty(t)?tn(Qe[t]):t==="transparent"?new ft(NaN,NaN,NaN,0):null}function tn(t){return new ft(t>>16&255,t>>8&255,t&255,1)}function oe(t,e,n,r){return r<=0&&(t=e=n=NaN),new ft(t,e,n,r)}function Zi(t){return t instanceof ee||(t=Qt(t)),t?(t=t.rgb(),new ft(t.r,t.g,t.b,t.opacity)):new ft}function qe(t,e,n,r){return arguments.length===1?Zi(t):new ft(t,e,n,r??1)}function ft(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Pe(ft,qe,Ln(ee,{brighter(t){return t=t==null?ge:Math.pow(ge,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gt:Math.pow(Gt,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ft(qt(this.r),qt(this.g),qt(this.b),me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:ta,formatRgb:nn,toString:nn}));function en(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}`}function ta(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}${zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function nn(){const t=me(this.opacity);return`${t===1?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${t===1?")":`, ${t})`}`}function me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zt(t){return t=qt(t),(t<16?"0":"")+t.toString(16)}function rn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yt(t,e,n,r)}function In(t){if(t instanceof yt)return new yt(t.h,t.s,t.l,t.opacity);if(t instanceof ee||(t=Qt(t)),!t)return new yt;if(t instanceof yt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new yt(o,s,c,t.opacity)}function ea(t,e,n,r){return arguments.length===1?In(t):new yt(t,e,n,r??1)}function yt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Pe(yt,ea,Ln(ee,{brighter(t){return t=t==null?ge:Math.pow(ge,t),new yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gt:Math.pow(Gt,t),new yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ft($e(t>=240?t-240:t+120,i,r),$e(t,i,r),$e(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yt(an(this.h),se(this.s),se(this.l),me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=me(this.opacity);return`${t===1?"hsl(":"hsla("}${an(this.h)}, ${se(this.s)*100}%, ${se(this.l)*100}%${t===1?")":`, ${t})`}`}}));function an(t){return t=(t||0)%360,t<0?t+360:t}function se(t){return Math.max(0,Math.min(1,t||0))}function $e(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Rn=t=>()=>t;function na(t,e){return function(n){return t+n*e}}function ra(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ia(t){return(t=+t)==1?Hn:function(e,n){return n-e?ra(e,n,t):Rn(isNaN(e)?n:e)}}function Hn(t,e){var n=e-t;return n?na(t,n):Rn(isNaN(t)?e:t)}const on=function t(e){var n=ia(e);function r(i,a){var o=n((i=qe(i)).r,(a=qe(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),u=Hn(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ce=new RegExp(Te.source,"g");function aa(t){return function(){return t}}function oa(t){return function(e){return t(e)+""}}function sa(t,e){var n=Te.lastIndex=Ce.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(r=Te.exec(t))&&(i=Ce.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Et(r,i)})),n=Ce.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?oa(c[0].x):aa(e):(e=c.length,function(u){for(var l=0,h;l<e;++l)s[(h=c[l]).i]=h.x(u);return s.join("")})}var sn=180/Math.PI,Ve={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xn(t,e,n,r,i,a){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*sn,skewX:Math.atan(c)*sn,scaleX:o,scaleY:s}}var ue;function ua(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ve:Xn(e.a,e.b,e.c,e.d,e.e,e.f)}function la(t){return t==null||(ue||(ue=document.createElementNS("http://www.w3.org/2000/svg","g")),ue.setAttribute("transform",t),!(t=ue.transform.baseVal.consolidate()))?Ve:(t=t.matrix,Xn(t.a,t.b,t.c,t.d,t.e,t.f))}function Pn(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,l,h,f,d,_){if(u!==h||l!==f){var v=d.push("translate(",null,e,null,n);_.push({i:v-4,x:Et(u,h)},{i:v-2,x:Et(l,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function o(u,l,h,f){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Et(u,l)})):l&&h.push(i(h)+"rotate("+l+r)}function s(u,l,h,f){u!==l?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Et(u,l)}):l&&h.push(i(h)+"skewX("+l+r)}function c(u,l,h,f,d,_){if(u!==h||l!==f){var v=d.push(i(d)+"scale(",null,",",null,")");_.push({i:v-4,x:Et(u,h)},{i:v-2,x:Et(l,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,l){var h=[],f=[];return u=t(u),l=t(l),a(u.translateX,u.translateY,l.translateX,l.translateY,h,f),o(u.rotate,l.rotate,h,f),s(u.skewX,l.skewX,h,f),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,h,f),u=l=null,function(d){for(var _=-1,v=f.length,y;++_<v;)h[(y=f[_]).i]=y.x(d);return h.join("")}}}var ca=Pn(ua,"px, ","px)","deg)"),fa=Pn(la,", ",")",")"),ha=1e-12;function un(t){return((t=Math.exp(t))+1/t)/2}function da(t){return((t=Math.exp(t))-1/t)/2}function pa(t){return((t=Math.exp(2*t))-1)/(t+1)}const ga=function t(e,n,r){function i(a,o){var s=a[0],c=a[1],u=a[2],l=o[0],h=o[1],f=o[2],d=l-s,_=h-c,v=d*d+_*_,y,g;if(v<ha)g=Math.log(f/u)/e,y=function(M){return[s+M*d,c+M*_,u*Math.exp(e*M*g)]};else{var x=Math.sqrt(v),b=(f*f-u*u+r*v)/(2*u*n*x),p=(f*f-u*u-r*v)/(2*f*n*x),N=Math.log(Math.sqrt(b*b+1)-b),k=Math.log(Math.sqrt(p*p+1)-p);g=(k-N)/e,y=function(M){var q=M*g,S=un(N),V=u/(n*x)*(S*pa(e*q+N)-da(N));return[s+V*d,c+V*_,u*S/un(e*q+N)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,c=s*s;return t(o,s,c)},i}(Math.SQRT2,2,4);var Pt=0,Bt=0,Wt=0,Yn=1e3,ye,jt,ve=0,Tt=0,_e=0,Jt=typeof performance=="object"&&performance.now?performance:Date,Fn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ye(){return Tt||(Fn(ma),Tt=Jt.now()+_e)}function ma(){Tt=0}function xe(){this._call=this._time=this._next=null}xe.prototype=Fe.prototype={constructor:xe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ye():+n)+(e==null?0:+e),!this._next&&jt!==this&&(jt?jt._next=this:ye=this,jt=this),this._call=t,this._time=n,De()},stop:function(){this._call&&(this._call=null,this._time=1/0,De())}};function Fe(t,e,n){var r=new xe;return r.restart(t,e,n),r}function ya(){Ye(),++Pt;for(var t=ye,e;t;)(e=Tt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function ln(){Tt=(ve=Jt.now())+_e,Pt=Bt=0;try{ya()}finally{Pt=0,xa(),Tt=0}}function va(){var t=Jt.now(),e=t-ve;e>Yn&&(_e-=e,ve=t)}function xa(){for(var t,e=ye,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ye=n);jt=t,De(r)}function De(t){if(!Pt){Bt&&(Bt=clearTimeout(Bt));var e=t-Tt;e>24?(t<1/0&&(Bt=setTimeout(ln,t-Jt.now()-_e)),Wt&&(Wt=clearInterval(Wt))):(Wt||(ve=Jt.now(),Wt=setInterval(va,Yn)),Pt=1,Fn(ln))}}function cn(t,e,n){var r=new xe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var wa=Zt("start","end","cancel","interrupt"),_a=[],Wn=0,fn=1,Le=2,fe=3,hn=4,Ie=5,he=6;function be(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ba(t,n,{name:e,index:r,group:i,on:wa,tween:_a,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Wn})}function We(t,e){var n=vt(t,e);if(n.state>Wn)throw new Error("too late; already scheduled");return n}function wt(t,e){var n=vt(t,e);if(n.state>fe)throw new Error("too late; already running");return n}function vt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ba(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Fe(a,0,n.time);function a(u){n.state=fn,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var l,h,f,d;if(n.state!==fn)return c();for(l in r)if(d=r[l],d.name===n.name){if(d.state===fe)return cn(o);d.state===hn?(d.state=he,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=he,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(cn(function(){n.state===fe&&(n.state=hn,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Le,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Le){for(n.state=fe,i=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ie,1),h=-1,f=i.length;++h<f;)i[h].call(t,l);n.state===Ie&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=he,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function de(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Le&&r.state<Ie,r.state=he,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function ka(t){return this.each(function(){de(this,t)})}function Na(t,e){var n,r;return function(){var i=wt(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ma(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=wt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}a.tween=i}}function Sa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=vt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Na:Ma)(n,t,e))}function Oe(t,e,n){var r=t._id;return t.each(function(){var i=wt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return vt(i,r).value[e]}}function On(t,e){var n;return(typeof e=="number"?Et:e instanceof Qt?on:(n=Qt(e))?(e=n,on):sa)(t,e)}function $a(t){return function(){this.removeAttribute(t)}}function Ca(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ea(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Aa(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function za(t,e,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s)))}}function qa(t,e,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s)))}}function Ta(t,e){var n=we(t),r=n==="transform"?fa:On;return this.attrTween(t,typeof e=="function"?(n.local?qa:za)(n,r,Oe(this,"attr."+t,e)):e==null?(n.local?Ca:$a)(n):(n.local?Aa:Ea)(n,r,e))}function Va(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Da(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function La(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Da(t,a)),n}return i._value=e,i}function Ia(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Va(t,a)),n}return i._value=e,i}function Ra(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=we(t);return this.tween(n,(r.local?La:Ia)(r,e))}function Ha(t,e){return function(){We(this,t).delay=+e.apply(this,arguments)}}function Xa(t,e){return e=+e,function(){We(this,t).delay=e}}function Pa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ha:Xa)(e,t)):vt(this.node(),e).delay}function Ya(t,e){return function(){wt(this,t).duration=+e.apply(this,arguments)}}function Fa(t,e){return e=+e,function(){wt(this,t).duration=e}}function Wa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ya:Fa)(e,t)):vt(this.node(),e).duration}function Oa(t,e){if(typeof e!="function")throw new Error;return function(){wt(this,t).ease=e}}function Ba(t){var e=this._id;return arguments.length?this.each(Oa(e,t)):vt(this.node(),e).ease}function ja(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wt(this,t).ease=n}}function Ua(t){if(typeof t!="function")throw new Error;return this.each(ja(this._id,t))}function Ga(t){typeof t!="function"&&(t=kn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],c,u=0;u<o;++u)(c=a[u])&&t.call(c,c.__data__,u,a)&&s.push(c);return new St(r,this._parents,this._name,this._id)}function Ka(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c=e[s],u=n[s],l=c.length,h=o[s]=new Array(l),f,d=0;d<l;++d)(f=c[d]||u[d])&&(h[d]=f);for(;s<r;++s)o[s]=e[s];return new St(o,this._parents,this._name,this._id)}function Qa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ja(t,e,n){var r,i,a=Qa(e)?We:wt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function Za(t,e){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(t):this.each(Ja(n,t,e))}function to(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function eo(){return this.on("end.remove",to(this._id))}function no(t){var e=this._name,n=this._id;typeof t!="function"&&(t=He(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,u=a[o]=new Array(c),l,h,f=0;f<c;++f)(l=s[f])&&(h=t.call(l,l.__data__,f,s))&&("__data__"in l&&(h.__data__=l.__data__),u[f]=h,be(u[f],e,n,f,u,vt(l,n)));return new St(a,this._parents,e,n)}function ro(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bn(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,h=0;h<u;++h)if(l=c[h]){for(var f=t.call(l,l.__data__,h,c),d,_=vt(l,n),v=0,y=f.length;v<y;++v)(d=f[v])&&be(d,e,n,v,f,_);a.push(f),o.push(l)}return new St(a,o,e,n)}var io=te.prototype.constructor;function ao(){return new io(this._groups,this._parents)}function oo(t,e){var n,r,i;return function(){var a=Xt(this,t),o=(this.style.removeProperty(t),Xt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Bn(t){return function(){this.style.removeProperty(t)}}function so(t,e,n){var r,i=n+"",a;return function(){var o=Xt(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function uo(t,e,n){var r,i,a;return function(){var o=Xt(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),Xt(this,t))),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s))}}function lo(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var c=wt(this,t),u=c.on,l=c.value[a]==null?s||(s=Bn(e)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(o,i=l),c.on=r}}function co(t,e,n){var r=(t+="")=="transform"?ca:On;return e==null?this.styleTween(t,oo(t,r)).on("end.style."+t,Bn(t)):typeof e=="function"?this.styleTween(t,uo(t,r,Oe(this,"style."+t,e))).each(lo(this._id,t)):this.styleTween(t,so(t,r,e),n).on("end.style."+t,null)}function fo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ho(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&fo(t,o,n)),r}return a._value=e,a}function po(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ho(t,e,n??""))}function go(t){return function(){this.textContent=t}}function mo(t){return function(){var e=t(this);this.textContent=e??""}}function yo(t){return this.tween("text",typeof t=="function"?mo(Oe(this,"text",t)):go(t==null?"":t+""))}function vo(t){return function(e){this.textContent=t.call(this,e)}}function xo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&vo(i)),e}return r._value=t,r}function wo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,xo(t))}function _o(){for(var t=this._name,e=this._id,n=jn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,u=0;u<s;++u)if(c=o[u]){var l=vt(c,e);be(c,t,n,u,o,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new St(r,this._parents,t,n)}function bo(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var u=wt(this,r),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),u.on=e}),i===0&&a()})}var ko=0;function St(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jn(){return++ko}var bt=te.prototype;St.prototype={constructor:St,select:no,selectAll:ro,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:Ga,merge:Ka,selection:ao,transition:_o,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:Za,attr:Ta,attrTween:Ra,style:co,styleTween:po,text:yo,textTween:wo,remove:eo,tween:Sa,delay:Pa,duration:Wa,ease:Ba,easeVarying:Ua,end:bo,[Symbol.iterator]:bt[Symbol.iterator]};function No(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Mo={time:null,delay:0,duration:250,ease:No};function So(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $o(t){var e,n;t instanceof St?(e=t._id,t=t._name):(e=jn(),(n=Mo).time=Ye(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,u=0;u<s;++u)(c=o[u])&&be(c,t,e,u,o,n||So(c,e));return new St(r,this._parents,t,e)}te.prototype.interrupt=ka;te.prototype.transition=$o;function Co(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,c=0,u=0;for(a=0;a<o;++a)s=n[a],c+=s.x,u+=s.y;for(c=(c/o-t)*r,u=(u/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=c,s.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Eo(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Un(this.cover(e,n),e,n,t)}function Un(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,c=t._y0,u=t._x1,l=t._y1,h,f,d,_,v,y,g,x;if(!a)return t._root=o,t;for(;a.length;)if((v=e>=(h=(s+u)/2))?s=h:u=h,(y=n>=(f=(c+l)/2))?c=f:l=f,i=a,!(a=a[g=y<<1|v]))return i[g]=o,t;if(d=+t._x.call(null,a.data),_=+t._y.call(null,a.data),e===d&&n===_)return o.next=a,i?i[g]=o:t._root=o,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(v=e>=(h=(s+u)/2))?s=h:u=h,(y=n>=(f=(c+l)/2))?c=f:l=f;while((g=y<<1|v)===(x=(_>=f)<<1|d>=h));return i[x]=a,i[g]=o,t}function Ao(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),c=1/0,u=1/0,l=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<c&&(c=i),i>l&&(l=i),a<u&&(u=a),a>h&&(h=a));if(c>l||u>h)return this;for(this.cover(c,u).cover(l,h),n=0;n<r;++n)Un(this,o[n],s[n],t[n]);return this}function zo(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,c,u;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,c=new Array(4),c[u]=s,s=c,o*=2,u){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function qo(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function To(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ot(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Vo(t,e,n){var r,i=this._x0,a=this._y0,o,s,c,u,l=this._x1,h=this._y1,f=[],d=this._root,_,v;for(d&&f.push(new ot(d,i,a,l,h)),n==null?n=1/0:(i=t-n,a=e-n,l=t+n,h=e+n,n*=n);_=f.pop();)if(!(!(d=_.node)||(o=_.x0)>l||(s=_.y0)>h||(c=_.x1)<i||(u=_.y1)<a))if(d.length){var y=(o+c)/2,g=(s+u)/2;f.push(new ot(d[3],y,g,c,u),new ot(d[2],o,g,y,u),new ot(d[1],y,s,c,g),new ot(d[0],o,s,y,g)),(v=(e>=g)<<1|t>=y)&&(_=f[f.length-1],f[f.length-1]=f[f.length-1-v],f[f.length-1-v]=_)}else{var x=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),p=x*x+b*b;if(p<n){var N=Math.sqrt(n=p);i=t-N,a=e-N,l=t+N,h=e+N,r=d.data}}return r}function Do(t){if(isNaN(l=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,c=this._x1,u=this._y1,l,h,f,d,_,v,y,g;if(!n)return this;if(n.length)for(;;){if((_=l>=(f=(o+c)/2))?o=f:c=f,(v=h>=(d=(s+u)/2))?s=d:u=d,e=n,!(n=n[y=v<<1|_]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,g=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[y]=a:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=a,this)}function Lo(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Io(){return this._root}function Ro(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Ho(t){var e=[],n,r=this._root,i,a,o,s,c;for(r&&e.push(new ot(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,c=n.y1)&&r.length){var u=(a+s)/2,l=(o+c)/2;(i=r[3])&&e.push(new ot(i,u,l,s,c)),(i=r[2])&&e.push(new ot(i,a,l,u,c)),(i=r[1])&&e.push(new ot(i,u,o,s,l)),(i=r[0])&&e.push(new ot(i,a,o,u,l))}return this}function Xo(t){var e=[],n=[],r;for(this._root&&e.push(new ot(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,c=r.x1,u=r.y1,l=(o+c)/2,h=(s+u)/2;(a=i[0])&&e.push(new ot(a,o,s,l,h)),(a=i[1])&&e.push(new ot(a,l,s,c,h)),(a=i[2])&&e.push(new ot(a,o,h,l,u)),(a=i[3])&&e.push(new ot(a,l,h,c,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Po(t){return t[0]}function Yo(t){return arguments.length?(this._x=t,this):this._x}function Fo(t){return t[1]}function Wo(t){return arguments.length?(this._y=t,this):this._y}function Be(t,e,n){var r=new je(e??Po,n??Fo,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function je(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function dn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ut=Be.prototype=je.prototype;ut.copy=function(){var t=new je(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=dn(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=dn(r));return t};ut.add=Eo;ut.addAll=Ao;ut.cover=zo;ut.data=qo;ut.extent=To;ut.find=Vo;ut.remove=Do;ut.removeAll=Lo;ut.root=Io;ut.size=Ro;ut.visit=Ho;ut.visitAfter=Xo;ut.x=Yo;ut.y=Wo;function st(t){return function(){return t}}function At(t){return(t()-.5)*1e-6}function Oo(t){return t.x+t.vx}function Bo(t){return t.y+t.vy}function jo(t){var e,n,r,i=1,a=1;typeof t!="function"&&(t=st(t==null?1:+t));function o(){for(var u,l=e.length,h,f,d,_,v,y,g=0;g<a;++g)for(h=Be(e,Oo,Bo).visitAfter(s),u=0;u<l;++u)f=e[u],v=n[f.index],y=v*v,d=f.x+f.vx,_=f.y+f.vy,h.visit(x);function x(b,p,N,k,M){var q=b.data,S=b.r,V=v+S;if(q){if(q.index>f.index){var P=d-q.x-q.vx,Z=_-q.y-q.vy,et=P*P+Z*Z;et<V*V&&(P===0&&(P=At(r),et+=P*P),Z===0&&(Z=At(r),et+=Z*Z),et=(V-(et=Math.sqrt(et)))/et*i,f.vx+=(P*=et)*(V=(S*=S)/(y+S)),f.vy+=(Z*=et)*V,q.vx-=P*(V=1-V),q.vy-=Z*V)}return}return p>d+V||k<d-V||N>_+V||M<_-V}}function s(u){if(u.data)return u.r=n[u.data.index];for(var l=u.r=0;l<4;++l)u[l]&&u[l].r>u.r&&(u.r=u[l].r)}function c(){if(e){var u,l=e.length,h;for(n=new Array(l),u=0;u<l;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,l){e=u,r=l,c()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:st(+u),c(),o):t},o}function Uo(t){return t.index}function pn(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Go(t){var e=Uo,n=h,r,i=st(30),a,o,s,c,u,l=1;t==null&&(t=[]);function h(y){return 1/Math.min(s[y.source.index],s[y.target.index])}function f(y){for(var g=0,x=t.length;g<l;++g)for(var b=0,p,N,k,M,q,S,V;b<x;++b)p=t[b],N=p.source,k=p.target,M=k.x+k.vx-N.x-N.vx||At(u),q=k.y+k.vy-N.y-N.vy||At(u),S=Math.sqrt(M*M+q*q),S=(S-a[b])/S*y*r[b],M*=S,q*=S,k.vx-=M*(V=c[b]),k.vy-=q*V,N.vx+=M*(V=1-V),N.vy+=q*V}function d(){if(o){var y,g=o.length,x=t.length,b=new Map(o.map((N,k)=>[e(N,k,o),N])),p;for(y=0,s=new Array(g);y<x;++y)p=t[y],p.index=y,typeof p.source!="object"&&(p.source=pn(b,p.source)),typeof p.target!="object"&&(p.target=pn(b,p.target)),s[p.source.index]=(s[p.source.index]||0)+1,s[p.target.index]=(s[p.target.index]||0)+1;for(y=0,c=new Array(x);y<x;++y)p=t[y],c[y]=s[p.source.index]/(s[p.source.index]+s[p.target.index]);r=new Array(x),_(),a=new Array(x),v()}}function _(){if(o)for(var y=0,g=t.length;y<g;++y)r[y]=+n(t[y],y,t)}function v(){if(o)for(var y=0,g=t.length;y<g;++y)a[y]=+i(t[y],y,t)}return f.initialize=function(y,g){o=y,u=g,d()},f.links=function(y){return arguments.length?(t=y,d(),f):t},f.id=function(y){return arguments.length?(e=y,f):e},f.iterations=function(y){return arguments.length?(l=+y,f):l},f.strength=function(y){return arguments.length?(n=typeof y=="function"?y:st(+y),_(),f):n},f.distance=function(y){return arguments.length?(i=typeof y=="function"?y:st(+y),v(),f):i},f}const Ko=1664525,Qo=1013904223,gn=4294967296;function Jo(){let t=1;return()=>(t=(Ko*t+Qo)%gn)/gn}function Zo(t){return t.x}function ts(t){return t.y}var es=10,ns=Math.PI*(3-Math.sqrt(5));function rs(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,c=Fe(h),u=Zt("tick","end"),l=Jo();t==null&&(t=[]);function h(){f(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function f(v){var y,g=t.length,x;v===void 0&&(v=1);for(var b=0;b<v;++b)for(n+=(a-n)*i,s.forEach(function(p){p(n)}),y=0;y<g;++y)x=t[y],x.fx==null?x.x+=x.vx*=o:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=o:(x.y=x.fy,x.vy=0);return e}function d(){for(var v=0,y=t.length,g;v<y;++v){if(g=t[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var x=es*Math.sqrt(.5+v),b=v*ns;g.x=x*Math.cos(b),g.y=x*Math.sin(b)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function _(v){return v.initialize&&v.initialize(t,l),v}return d(),e={tick:f,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(v){return arguments.length?(t=v,d(),s.forEach(_),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(a=+v,e):a},velocityDecay:function(v){return arguments.length?(o=1-v,e):1-o},randomSource:function(v){return arguments.length?(l=v,s.forEach(_),e):l},force:function(v,y){return arguments.length>1?(y==null?s.delete(v):s.set(v,_(y)),e):s.get(v)},find:function(v,y,g){var x=0,b=t.length,p,N,k,M,q;for(g==null?g=1/0:g*=g,x=0;x<b;++x)M=t[x],p=v-M.x,N=y-M.y,k=p*p+N*N,k<g&&(q=M,g=k);return q},on:function(v,y){return arguments.length>1?(u.on(v,y),e):u.on(v)}}}function is(){var t,e,n,r,i=st(-30),a,o=1,s=1/0,c=.81;function u(d){var _,v=t.length,y=Be(t,Zo,ts).visitAfter(h);for(r=d,_=0;_<v;++_)e=t[_],y.visit(f)}function l(){if(t){var d,_=t.length,v;for(a=new Array(_),d=0;d<_;++d)v=t[d],a[v.index]=+i(v,d,t)}}function h(d){var _=0,v,y,g=0,x,b,p;if(d.length){for(x=b=p=0;p<4;++p)(v=d[p])&&(y=Math.abs(v.value))&&(_+=v.value,g+=y,x+=y*v.x,b+=y*v.y);d.x=x/g,d.y=b/g}else{v=d,v.x=v.data.x,v.y=v.data.y;do _+=a[v.data.index];while(v=v.next)}d.value=_}function f(d,_,v,y){if(!d.value)return!0;var g=d.x-e.x,x=d.y-e.y,b=y-_,p=g*g+x*x;if(b*b/c<p)return p<s&&(g===0&&(g=At(n),p+=g*g),x===0&&(x=At(n),p+=x*x),p<o&&(p=Math.sqrt(o*p)),e.vx+=g*d.value*r/p,e.vy+=x*d.value*r/p),!0;if(d.length||p>=s)return;(d.data!==e||d.next)&&(g===0&&(g=At(n),p+=g*g),x===0&&(x=At(n),p+=x*x),p<o&&(p=Math.sqrt(o*p)));do d.data!==e&&(b=a[d.data.index]*r/p,e.vx+=g*b,e.vy+=x*b);while(d=d.next)}return u.initialize=function(d,_){t=d,n=_,l()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:st(+d),l(),u):i},u.distanceMin=function(d){return arguments.length?(o=d*d,u):Math.sqrt(o)},u.distanceMax=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.theta=function(d){return arguments.length?(c=d*d,u):Math.sqrt(c)},u}function as(t){var e=st(.1),n,r,i;typeof t!="function"&&(t=st(t==null?0:+t));function a(s){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vx+=(i[c]-l.x)*r[c]*s}function o(){if(n){var s,c=n.length;for(r=new Array(c),i=new Array(c),s=0;s<c;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:st(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:st(+s),o(),a):t},a}function os(t){var e=st(.1),n,r,i;typeof t!="function"&&(t=st(t==null?0:+t));function a(s){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vy+=(i[c]-l.y)*r[c]*s}function o(){if(n){var s,c=n.length;for(r=new Array(c),i=new Array(c),s=0;s<c;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:st(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:st(+s),o(),a):t},a}const le=t=>()=>t;function ss(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Mt(t,e,n){this.k=t,this.x=e,this.y=n}Mt.prototype={constructor:Mt,scale:function(t){return t===1?this:new Mt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rt=new Mt(1,0,0);Ht.prototype=Mt.prototype;function Ht(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Rt;return t.__zoom}function Ee(t){t.stopImmediatePropagation()}function Ot(t){t.preventDefault(),t.stopImmediatePropagation()}function us(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ls(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function mn(){return this.__zoom||Rt}function cs(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function fs(){return navigator.maxTouchPoints||"ontouchstart"in this}function hs(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function ds(){var t=us,e=ls,n=hs,r=cs,i=fs,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,c=ga,u=Zt("start","zoom","end"),l,h,f,d=500,_=150,v=0,y=10;function g(m){m.property("__zoom",mn).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",V).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",et).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(m,C,w,z){var L=m.selection?m.selection():m;L.property("__zoom",mn),m!==L?N(m,C,w,z):L.interrupt().each(function(){k(this,arguments).event(z).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},g.scaleBy=function(m,C,w,z){g.scaleTo(m,function(){var L=this.__zoom.k,$=typeof C=="function"?C.apply(this,arguments):C;return L*$},w,z)},g.scaleTo=function(m,C,w,z){g.transform(m,function(){var L=e.apply(this,arguments),$=this.__zoom,T=w==null?p(L):typeof w=="function"?w.apply(this,arguments):w,R=$.invert(T),W=typeof C=="function"?C.apply(this,arguments):C;return n(b(x($,W),T,R),L,o)},w,z)},g.translateBy=function(m,C,w,z){g.transform(m,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof w=="function"?w.apply(this,arguments):w),e.apply(this,arguments),o)},null,z)},g.translateTo=function(m,C,w,z,L){g.transform(m,function(){var $=e.apply(this,arguments),T=this.__zoom,R=z==null?p($):typeof z=="function"?z.apply(this,arguments):z;return n(Rt.translate(R[0],R[1]).scale(T.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof w=="function"?-w.apply(this,arguments):-w),$,o)},z,L)};function x(m,C){return C=Math.max(a[0],Math.min(a[1],C)),C===m.k?m:new Mt(C,m.x,m.y)}function b(m,C,w){var z=C[0]-w[0]*m.k,L=C[1]-w[1]*m.k;return z===m.x&&L===m.y?m:new Mt(m.k,z,L)}function p(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function N(m,C,w,z){m.on("start.zoom",function(){k(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(z).end()}).tween("zoom",function(){var L=this,$=arguments,T=k(L,$).event(z),R=e.apply(L,$),W=w==null?p(R):typeof w=="function"?w.apply(L,$):w,Q=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),U=L.__zoom,j=typeof C=="function"?C.apply(L,$):C,G=c(U.invert(W).concat(Q/U.k),j.invert(W).concat(Q/j.k));return function(nt){if(nt===1)nt=j;else{var K=G(nt),_t=Q/K[2];nt=new Mt(_t,W[0]-K[0]*_t,W[1]-K[1]*_t)}T.zoom(null,nt)}})}function k(m,C,w){return!w&&m.__zooming||new M(m,C)}function M(m,C){this.that=m,this.args=C,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,C),this.taps=0}M.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,C){return this.mouse&&m!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var C=tt(this.that).datum();u.call(m,this.that,new ss(m,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),C)}};function q(m,...C){if(!t.apply(this,arguments))return;var w=k(this,C).event(m),z=this.__zoom,L=Math.max(a[0],Math.min(a[1],z.k*Math.pow(2,r.apply(this,arguments)))),$=kt(m);if(w.wheel)(w.mouse[0][0]!==$[0]||w.mouse[0][1]!==$[1])&&(w.mouse[1]=z.invert(w.mouse[0]=$)),clearTimeout(w.wheel);else{if(z.k===L)return;w.mouse=[$,z.invert($)],de(this),w.start()}Ot(m),w.wheel=setTimeout(T,_),w.zoom("mouse",n(b(x(z,L),w.mouse[0],w.mouse[1]),w.extent,o));function T(){w.wheel=null,w.end()}}function S(m,...C){if(f||!t.apply(this,arguments))return;var w=m.currentTarget,z=k(this,C,!0).event(m),L=tt(m.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",Q,!0),$=kt(m,w),T=m.clientX,R=m.clientY;Tn(m.view),Ee(m),z.mouse=[$,this.__zoom.invert($)],de(this),z.start();function W(U){if(Ot(U),!z.moved){var j=U.clientX-T,G=U.clientY-R;z.moved=j*j+G*G>v}z.event(U).zoom("mouse",n(b(z.that.__zoom,z.mouse[0]=kt(U,w),z.mouse[1]),z.extent,o))}function Q(U){L.on("mousemove.zoom mouseup.zoom",null),Vn(U.view,z.moved),Ot(U),z.event(U).end()}}function V(m,...C){if(t.apply(this,arguments)){var w=this.__zoom,z=kt(m.changedTouches?m.changedTouches[0]:m,this),L=w.invert(z),$=w.k*(m.shiftKey?.5:2),T=n(b(x(w,$),z,L),e.apply(this,C),o);Ot(m),s>0?tt(this).transition().duration(s).call(N,T,z,m):tt(this).call(g.transform,T,z,m)}}function P(m,...C){if(t.apply(this,arguments)){var w=m.touches,z=w.length,L=k(this,C,m.changedTouches.length===z).event(m),$,T,R,W;for(Ee(m),T=0;T<z;++T)R=w[T],W=kt(R,this),W=[W,this.__zoom.invert(W),R.identifier],L.touch0?!L.touch1&&L.touch0[2]!==W[2]&&(L.touch1=W,L.taps=0):(L.touch0=W,$=!0,L.taps=1+!!l);l&&(l=clearTimeout(l)),$&&(L.taps<2&&(h=W[0],l=setTimeout(function(){l=null},d)),de(this),L.start())}}function Z(m,...C){if(this.__zooming){var w=k(this,C).event(m),z=m.changedTouches,L=z.length,$,T,R,W;for(Ot(m),$=0;$<L;++$)T=z[$],R=kt(T,this),w.touch0&&w.touch0[2]===T.identifier?w.touch0[0]=R:w.touch1&&w.touch1[2]===T.identifier&&(w.touch1[0]=R);if(T=w.that.__zoom,w.touch1){var Q=w.touch0[0],U=w.touch0[1],j=w.touch1[0],G=w.touch1[1],nt=(nt=j[0]-Q[0])*nt+(nt=j[1]-Q[1])*nt,K=(K=G[0]-U[0])*K+(K=G[1]-U[1])*K;T=x(T,Math.sqrt(nt/K)),R=[(Q[0]+j[0])/2,(Q[1]+j[1])/2],W=[(U[0]+G[0])/2,(U[1]+G[1])/2]}else if(w.touch0)R=w.touch0[0],W=w.touch0[1];else return;w.zoom("touch",n(b(T,R,W),w.extent,o))}}function et(m,...C){if(this.__zooming){var w=k(this,C).event(m),z=m.changedTouches,L=z.length,$,T;for(Ee(m),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),$=0;$<L;++$)T=z[$],w.touch0&&w.touch0[2]===T.identifier?delete w.touch0:w.touch1&&w.touch1[2]===T.identifier&&delete w.touch1;if(w.touch1&&!w.touch0&&(w.touch0=w.touch1,delete w.touch1),w.touch0)w.touch0[1]=this.__zoom.invert(w.touch0[0]);else if(w.end(),w.taps===2&&(T=kt(T,this),Math.hypot(h[0]-T[0],h[1]-T[1])<y)){var R=tt(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return g.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:le(+m),g):r},g.filter=function(m){return arguments.length?(t=typeof m=="function"?m:le(!!m),g):t},g.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:le(!!m),g):i},g.extent=function(m){return arguments.length?(e=typeof m=="function"?m:le([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),g):e},g.scaleExtent=function(m){return arguments.length?(a[0]=+m[0],a[1]=+m[1],g):[a[0],a[1]]},g.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(m){return arguments.length?(n=m,g):n},g.duration=function(m){return arguments.length?(s=+m,g):s},g.interpolate=function(m){return arguments.length?(c=m,g):c},g.on=function(){var m=u.on.apply(u,arguments);return m===u?g:m},g.clickDistance=function(m){return arguments.length?(v=(m=+m)*m,g):Math.sqrt(v)},g.tapDistance=function(m){return arguments.length?(y=+m,g):y},g}const yn={circle:{width:40,height:40},square:{width:60,height:60},rectangle:{width:120,height:60},"rounded-square":{width:60,height:60},"rounded-rectangle":{width:120,height:60}},Nt=(t="rounded-square")=>yn[t]||yn["rounded-square"],vn=(t,e=!0)=>{const n=t.shape||"rounded-square",r=t.style||{},i=Nt(n),a=r.width||i.width,o=r.height||i.height,s=r.padding||0;switch(n){case"circle":return Math.max(a,o)/2+s;case"square":case"rounded-square":return Math.sqrt(a*a+o*o)/2+s;case"rectangle":case"rounded-rectangle":return e?Math.max(a,o)/2+s:Math.min(a,o)/2+s;default:return Math.max(a,o)/2+s}},ps=t=>{const e=t.shape||"rounded-square",n=t.style||{},r=Nt(e),i=n.height||r.height,a=n.padding||0,o=15;switch(e){case"circle":return i/2+a+o;case"square":case"rounded-square":case"rectangle":case"rounded-rectangle":return i/2+a+o;default:return i/2+a+o}},gs=(t,e,n)=>{let r=null;return function(...a){const o=()=>{r=null,t(...a)};r&&clearTimeout(r),r=setTimeout(o,e)}},ms=(t,e=16/9)=>{const n=t.getBoundingClientRect(),r=n.width,i=Math.min(n.height,r/e);return{width:r,height:i}},ys=({containerRef:t,width:e,height:n,aspectRatio:r=16/9})=>{const[i,a]=I.useState({width:e||800,height:n||600}),o=I.useCallback(()=>{if(t.current)if(e&&n)a({width:e,height:n});else{const c=ms(t.current,r);a(c)}},[t,e,n,r]),s=gs(o,150);return I.useEffect(()=>{if(o(),!e||!n){const c=new ResizeObserver(s);return t.current&&c.observe(t.current),window.addEventListener("resize",s),()=>{c.disconnect(),window.removeEventListener("resize",s)}}},[e,n,t]),{dimensions:i,updateDimensions:o}},vs=({svgRef:t,zoomBehaviorRef:e,minZoom:n=.1,maxZoom:r=4,onZoomChange:i})=>{const a=I.useCallback(l=>{if(!t.current||!e.current)return;const h=tt(t.current),f=Ht(h.node()),d=t.current.getBoundingClientRect(),_=d.width/2,v=d.height/2,y=Rt.translate(_,v).scale(l).translate(-_,-v).translate(f.x,f.y);h.call(e.current.transform,y),i&&i(l)},[t,e,i]),o=I.useCallback(()=>{if(!t.current||!e.current)return;const l=tt(t.current),h=l.select("g");if(!h.empty())try{const f=h.node().getBBox(),d=t.current.getBoundingClientRect();if(f.width===0||f.height===0)return;const _=50,v=(d.width-_*2)/f.width,y=(d.height-_*2)/f.height,g=Math.min(v,y,r),x=Math.max(n,Math.min(r,g)),b=d.width/2,p=d.height/2,N=f.x+f.width/2,k=f.y+f.height/2,M=Rt.translate(b,p).scale(x).translate(-N,-k);l.transition().duration(750).call(e.current.transform,M),i&&i(x)}catch(f){console.warn("Error fitting graph to container:",f)}},[t,e,n,r,i]),s=I.useCallback(()=>{if(!t.current||!e.current)return;const l=tt(t.current),h=Ht(l.node()),f=Math.min(h.k*1.5,r);l.transition().duration(300).call(e.current.scaleBy,f/h.k),i&&i(f)},[t,e,r,i]),c=I.useCallback(()=>{if(!t.current||!e.current)return;const l=tt(t.current),h=Ht(l.node()),f=Math.max(h.k/1.5,n);l.transition().duration(300).call(e.current.scaleBy,f/h.k),i&&i(f)},[t,e,n,i]),u=I.useCallback(()=>{if(!t.current||!e.current)return;tt(t.current).transition().duration(500).call(e.current.transform,Rt),i&&i(1)},[t,e,i]);return I.useMemo(()=>({handleZoom:a,fitGraphToContainer:o,zoomIn:s,zoomOut:c,resetZoom:u}),[a,o,s,c,u])},xs=({nodes:t,links:e,dimensions:n,config:r,centerForce:i=.1})=>{const a=I.useRef(null),o=I.useMemo(()=>({linkDistance:r.linkDistance||200,chargeStrength:r.chargeStrength||-4e3,collisionRadius:r.collisionRadius||100,alphaDecay:r.alphaDecay||.01,alphaMin:r.alphaMin||.001}),[r]);I.useEffect(()=>{if(!t.length||!n.width||!n.height)return;const c=rs(t).force("link",Go(e).id(u=>u.id).distance(o.linkDistance).strength(.1)).force("charge",is().strength(o.chargeStrength)).force("center",Co(n.width/2,n.height/2).strength(i)).force("collision",jo().radius(u=>{var d,_,v,y;const l=o.collisionRadius/10;if(u.shape==="circle")return(((d=u.style)==null?void 0:d.width)||((_=u.style)==null?void 0:_.height)||40)/2+l;const h=((v=u.style)==null?void 0:v.width)||80,f=((y=u.style)==null?void 0:y.height)||40;return Math.sqrt(h*h+f*f)/2+l}).strength(.5)).force("x",as(n.width/2).strength(.05)).force("y",os(n.height/2).strength(.05)).alphaDecay(o.alphaDecay).alphaMin(o.alphaMin);return t.forEach(u=>{}),a.current=c,()=>{a.current&&a.current.stop()}},[t,e,n,o,i]),I.useEffect(()=>{if(!a.current)return;a.current.nodes(t);const c=a.current.force("link");c&&c.links(e),a.current.alpha(.3).restart()},[t,e]),I.useEffect(()=>{if(!a.current)return;const c=a.current.force("link"),u=a.current.force("charge"),l=a.current.force("collision");c&&c.distance(o.linkDistance),u&&u.strength(o.chargeStrength),l&&l.radius(h=>{var v,y,g,x;const f=o.collisionRadius/10;if(h.shape==="circle")return(((v=h.style)==null?void 0:v.width)||((y=h.style)==null?void 0:y.height)||40)/2+f;const d=((g=h.style)==null?void 0:g.width)||80,_=((x=h.style)==null?void 0:x.height)||40;return Math.sqrt(d*d+_*_)/2+f}),a.current.alphaDecay(o.alphaDecay).alphaMin(o.alphaMin)},[o]);const s=I.useMemo(()=>({restart:()=>{a.current&&a.current.alpha(1).restart()},stop:()=>{a.current&&a.current.stop()},reheat:(c=.3)=>{a.current&&a.current.alpha(c).restart()},fixNode:(c,u,l)=>{const h=t.find(f=>f.id===c);h&&a.current&&(h.fx=u,h.fy=l,a.current.alpha(.1).restart())},releaseNode:c=>{const u=t.find(l=>l.id===c);u&&a.current&&(u.fx=null,u.fy=null,a.current.alpha(.1).restart())}}),[t]);return{simulation:a.current,...s}},ws=({simulation:t,enableDrag:e,onNodeDragStart:n,onNodeDrag:r,onNodeDragEnd:i})=>{const a=I.useCallback((l,h)=>{var f;(f=l.sourceEvent)==null||f.stopPropagation(),n&&n(h,l),t&&(l.active||t.alphaTarget(.3).restart(),h.fx=h.x,h.fy=h.y)},[t,n]),o=I.useCallback((l,h)=>{h.fx=l.x,h.fy=l.y,r&&r(h,l)},[r]),s=I.useCallback((l,h)=>{i&&i(h,l),t&&(l.active||t.alphaTarget(0))},[t,i]),c=I.useMemo(()=>e?Dn().on("start",a).on("drag",o).on("end",s).filter(l=>!l.ctrlKey&&!l.metaKey&&l.button===0):null,[e,a,o,s]),u=I.useMemo(()=>({pinNode:(l,h)=>{const f=h.find(d=>d.id===l);f&&(f.fx=f.x,f.fy=f.y)},unpinNode:(l,h)=>{const f=h.find(d=>d.id===l);f&&(f.fx=null,f.fy=null,t&&t.alpha(.1).restart())},pinAllNodes:l=>{l.forEach(h=>{h.fx=h.x,h.fy=h.y})},unpinAllNodes:l=>{l.forEach(h=>{h.fx=null,h.fy=null}),t&&t.alpha(.3).restart()},isNodePinned:(l,h)=>{const f=h.find(d=>d.id===l);return f?f.fx!==null&&f.fx!==void 0:!1},getPinnedNodes:l=>l.filter(h=>h.fx!==null&&h.fx!==void 0),moveNodeTo:(l,h,f,d)=>{const _=d.find(v=>v.id===l);_&&(_.fx=h,_.fy=f,t&&t.alpha(.1).restart())}}),[t]);return{dragBehavior:c,...u}},_s=({svgRef:t,nodes:e,links:n,enableHover:r,onNodeHover:i,onNodeBlur:a,onLinkHover:o,onLinkBlur:s,onNodeClick:c,onLinkClick:u,onCanvasClick:l})=>{const h=I.useRef({hoveredNode:null,hoveredLink:null,highlightedNodes:new Set,highlightedLinks:new Set}),f=I.useCallback(x=>{const b=new Set,p=new Set;return b.add(x),n.forEach(N=>{const k=typeof N.source=="object"?N.source.id:N.source,M=typeof N.target=="object"?N.target.id:N.target;(k===x||M===x)&&(p.add(N.id||`${k}-${M}`),b.add(k),b.add(M))}),{connectedNodes:b,connectedLinks:p}},[n]),d=I.useCallback((x,b,p)=>{if(!t.current||!r)return;const N=tt(t.current);N.selectAll(".nodes g").style("opacity",k=>p?x.has(k.id)?1:.3:1).style("filter",k=>p&&x.has(k.id)?"drop-shadow(0 0 8px rgba(59, 130, 246, 0.6))":"none"),N.selectAll(".links g").style("opacity",k=>{if(!p)return 1;const M=k.id||`${typeof k.source=="object"?k.source.id:k.source}-${typeof k.target=="object"?k.target.id:k.target}`;return b.has(M)?1:.1}),N.selectAll(".links path").style("stroke-width",k=>{var q,S,V;if(!p)return((q=k.style)==null?void 0:q.linkWidth)||2;const M=k.id||`${typeof k.source=="object"?k.source.id:k.source}-${typeof k.target=="object"?k.target.id:k.target}`;return b.has(M)?(((S=k.style)==null?void 0:S.linkWidth)||2)+1:((V=k.style)==null?void 0:V.linkWidth)||2})},[t,r]),_=I.useCallback((x,b)=>{if(!r)return;const p=h.current.hoveredNode;if(b){if((p==null?void 0:p.id)!==b.id){p&&a&&a(p,x||void 0);const{connectedNodes:N,connectedLinks:k}=f(b.id);h.current={...h.current,hoveredNode:b,highlightedNodes:N,highlightedLinks:k},d(N,k,!0),i&&i(b,x||void 0)}}else p&&(h.current={...h.current,hoveredNode:null,highlightedNodes:new Set,highlightedLinks:new Set},d(new Set,new Set,!1),a&&a(p,x||void 0))},[r,f,d,i,a]),v=I.useCallback((x,b)=>{if(!r)return;const p=h.current.hoveredLink;if(b){if(p!==b){p&&s&&s(p,x||void 0);const N=typeof b.source=="object"?b.source.id:b.source,k=typeof b.target=="object"?b.target.id:b.target,M=b.id||`${N}-${k}`,q=new Set([N,k]),S=new Set([M]);h.current={...h.current,hoveredLink:b,highlightedNodes:q,highlightedLinks:S},d(q,S,!0),o&&o(b,x||void 0)}}else p&&(h.current={...h.current,hoveredLink:null,highlightedNodes:new Set,highlightedLinks:new Set},d(new Set,new Set,!1),s&&s(p,x||void 0))},[r,d,o,s]),y=I.useCallback(x=>{h.current={hoveredNode:null,hoveredLink:null,highlightedNodes:new Set,highlightedLinks:new Set},d(new Set,new Set,!1),l&&l(x)},[d,l]),g={highlightElements:(x,b=[])=>{const p=new Set(x),N=new Set(b);h.current={...h.current,highlightedNodes:p,highlightedLinks:N},d(p,N,!0)},clearHighlights:()=>{h.current={hoveredNode:null,hoveredLink:null,highlightedNodes:new Set,highlightedLinks:new Set},d(new Set,new Set,!1)},getHoverState:()=>({...h.current}),highlightNodeConnections:x=>{const{connectedNodes:b,connectedLinks:p}=f(x);h.current={...h.current,highlightedNodes:b,highlightedLinks:p},d(b,p,!0)},highlightPath:(x,b)=>{const p=new Set,N=[{nodeId:x,path:[x]}];for(;N.length>0;){const{nodeId:k,path:M}=N.shift();if(k===b){const q=new Set;for(let S=0;S<M.length-1;S++){const V=n.find(P=>{const Z=typeof P.source=="object"?P.source.id:P.source,et=typeof P.target=="object"?P.target.id:P.target;return Z===M[S]&&et===M[S+1]||Z===M[S+1]&&et===M[S]});if(V){const P=V.id||`${typeof V.source=="object"?V.source.id:V.source}-${typeof V.target=="object"?V.target.id:V.target}`;q.add(P)}}return g.highlightElements(M,Array.from(q)),M}p.has(k)||(p.add(k),n.forEach(q=>{const S=typeof q.source=="object"?q.source.id:q.source,V=typeof q.target=="object"?q.target.id:q.target;S===k&&!p.has(V)?N.push({nodeId:V,path:[...M,V]}):V===k&&!p.has(S)&&N.push({nodeId:S,path:[...M,S]})}))}return null}};return{handleNodeHover:_,handleLinkHover:v,handleCanvasClick:y,...g}},Re=({svgRef:t,zoomBehaviorRef:e,width:n=200,height:r=150,position:i="bottom-right",theme:a="light",className:o="",isCollapsible:s=!0,isResizable:c=!1,defaultCollapsed:u=!0,showControls:l=!0,backgroundColor:h,borderColor:f,viewportColor:d="#3b82f6",opacity:_=.9,minWidth:v=120,maxWidth:y=400,minHeight:g=80,maxHeight:x=300,onToggle:b,onResize:p})=>{const N=I.useRef(null),k=I.useRef(null),[M,q]=I.useState(u),[S,V]=I.useState({width:n,height:r,headerHeight:l?32:0,padding:8}),P=I.useRef(!1),Z=I.useRef(!1);I.useEffect(()=>{if(t.current&&!Z.current){const $=t.current.getBoundingClientRect(),T=$.width/$.height,R=Math.min(Math.max(r*T,v),y);V(W=>({...W,width:R}))}},[t.current,r,v,y]);const et=()=>{const $="absolute z-20";switch(i){case"top-left":return`${$} top-4 left-4`;case"top-right":return`${$} top-4 right-4`;case"bottom-left":return`${$} bottom-4 left-4`;case"bottom-right":default:return`${$} bottom-4 right-4`}},C=a==="dark"?{container:"bg-gray-800/90 border-gray-600 text-white",header:"text-gray-100",svg:"opacity-80 hover:opacity-100"}:{container:"bg-white/90 border-gray-200 text-gray-900",header:"text-gray-700",svg:"opacity-80 hover:opacity-100"},w=I.useCallback(()=>{const $=!M;q($),b==null||b($)},[M,b]),z=I.useCallback(($,T)=>{const R=Math.min(Math.max($,v),y),W=Math.min(Math.max(T,g),x);V(Q=>({...Q,width:R,height:W})),p==null||p(R,W)},[v,y,g,x,p]);if(I.useEffect(()=>{var ie;if(!t.current||!k.current||!e.current||M)return;const $=tt(t.current),T=tt(k.current);T.selectAll("*").remove();const R=S.height-S.headerHeight;T.attr("width",S.width).attr("height",R);const W=T.append("g").attr("class","minimap-content"),Q=t.current.querySelector("g");if(!Q)return;const U=Q.cloneNode(!0);(ie=W.node())==null||ie.appendChild(U);const j=Q.getBBox();if(!j.width||!j.height)return;const G=S.width-S.padding*2,nt=R-S.padding*2,K=Math.min(G/j.width,nt/j.height,.8),_t=(S.width-j.width*K)/2-j.x*K,pt=(R-j.height*K)/2-j.y*K;tt(U).style("pointer-events","none").style("opacity","0.6").attr("transform",`translate(${_t},${pt}) scale(${K})`);const $t=T.append("rect").attr("class","minimap-viewport").attr("fill","none").attr("stroke",d).attr("stroke-width",2).attr("stroke-dasharray","3,3").attr("pointer-events","all").style("cursor","move"),Vt=()=>{const D=Ht($.node()),Y=t.current.getBoundingClientRect(),H=Math.min(Y.width/D.k*K,G),rt=Math.min(Y.height/D.k*K,nt),ht=Math.max(S.padding,Math.min(_t-D.x*K/D.k,S.width-H-S.padding)),Dt=Math.max(S.padding,Math.min(pt-D.y*K/D.k,R-rt-S.padding));$t.attr("x",ht).attr("y",Dt).attr("width",H).attr("height",rt)},ne=Dn().on("start",()=>{P.current=!0,$t.style("cursor","grabbing")}).on("drag",D=>{if(!e.current)return;const Y=Ht($.node()),H=D.dx/K,rt=D.dy/K,ht=Y.translate(-H*Y.k,-rt*Y.k);$.call(e.current.transform,ht)}).on("end",()=>{P.current=!1,$t.style("cursor","move")});$t.call(ne);const ke=()=>{P.current||Vt()};$.on("zoom.minimap",ke),Vt();const re=new MutationObserver(()=>{P.current||requestAnimationFrame(Vt)});return re.observe(Q,{attributes:!0,childList:!0,subtree:!0}),()=>{$.on("zoom.minimap",null),re.disconnect()}},[t.current,e.current,M,S,d]),!t.current)return null;const L={width:`${S.width}px`,height:M?`${S.headerHeight}px`:`${S.height}px`,backgroundColor:h,borderColor:f,opacity:_};return it.jsxs("div",{ref:N,className:` ${et()} ${C.container} ${o} flex flex-col overflow-hidden rounded-lg border shadow-lg backdrop-blur-sm transition-all duration-300 ease-in-out`,style:L,children:[l&&it.jsxs("div",{className:`flex min-h-[32px] flex-none items-center justify-between px-3 py-1 ${s?"cursor-pointer hover:bg-black/5":""} ${C.header} `,onClick:s?w:void 0,children:[it.jsx("span",{className:"select-none text-xs font-medium",children:"Navigator"}),it.jsxs("div",{className:"flex items-center gap-1",children:[c&&!M&&it.jsx("button",{className:"rounded p-1 hover:bg-black/10",onClick:$=>{$.stopPropagation();const T=S.height===r?r*1.5:r;z(S.width,T)},children:S.height===r?it.jsx(tr,{className:"size-3"}):it.jsx(nr,{className:"size-3"})}),s&&it.jsx("div",{className:"p-1",children:M?it.jsx(Qn,{className:"size-3"}):it.jsx(Jn,{className:"size-3"})})]})]}),!M&&it.jsxs("div",{className:"relative flex flex-1 items-center justify-center overflow-hidden",children:[it.jsx("svg",{ref:k,className:`size-full transition-opacity duration-200 ${C.svg}`}),c&&it.jsx("div",{className:"absolute bottom-0 right-0 size-3 cursor-se-resize opacity-50 hover:opacity-100",onMouseDown:$=>{$.preventDefault(),Z.current=!0;const T=$.clientX,R=$.clientY,W=S.width,Q=S.height,U=G=>{const nt=G.clientX-T,K=G.clientY-R;z(W+nt,Q+K)},j=()=>{Z.current=!1,document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",j)},children:it.jsx("div",{className:"size-full translate-x-1/2 translate-y-1/2 rotate-45 bg-gray-400"})})]}),M&&s&&it.jsx("div",{className:"absolute inset-0 cursor-pointer",onClick:w})]})};try{Re.displayName="Minimap",Re.__docgenInfo={description:"",displayName:"Minimap",props:{svgRef:{defaultValue:null,description:"",name:"svgRef",required:!0,type:{name:"RefObject<SVGSVGElement>"}},zoomBehaviorRef:{defaultValue:null,description:"",name:"zoomBehaviorRef",required:!0,type:{name:"MutableRefObject<ZoomBehavior<SVGSVGElement, unknown>>"}},width:{defaultValue:{value:"200"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"150"},description:"",name:"height",required:!1,type:{name:"number"}},position:{defaultValue:{value:"bottom-right"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top-left"'},{value:'"top-right"'},{value:'"bottom-left"'},{value:'"bottom-right"'}]}},theme:{defaultValue:{value:"light"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},isCollapsible:{defaultValue:{value:"true"},description:"",name:"isCollapsible",required:!1,type:{name:"boolean"}},isResizable:{defaultValue:{value:"false"},description:"",name:"isResizable",required:!1,type:{name:"boolean"}},defaultCollapsed:{defaultValue:{value:"true"},description:"",name:"defaultCollapsed",required:!1,type:{name:"boolean"}},showControls:{defaultValue:{value:"true"},description:"",name:"showControls",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},viewportColor:{defaultValue:{value:"#3b82f6"},description:"",name:"viewportColor",required:!1,type:{name:"string"}},opacity:{defaultValue:{value:"0.9"},description:"",name:"opacity",required:!1,type:{name:"number"}},minWidth:{defaultValue:{value:"120"},description:"",name:"minWidth",required:!1,type:{name:"number"}},maxWidth:{defaultValue:{value:"400"},description:"",name:"maxWidth",required:!1,type:{name:"number"}},minHeight:{defaultValue:{value:"80"},description:"",name:"minHeight",required:!1,type:{name:"number"}},maxHeight:{defaultValue:{value:"300"},description:"",name:"maxHeight",required:!1,type:{name:"number"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"(collapsed: boolean) => void"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!1,type:{name:"(width: number, height: number) => void"}}}}}catch{}const xn=({nodes:t,links:e,width:n,height:r,className:i="",defaultNodeStyles:a={backgroundColor:"#222",padding:10,borderColor:"#999",borderWidth:0},defaultLinkStyles:o={linkColor:"#666",linkWidth:2,linkType:"solid"},defaultLabelStyles:s={fill:"#ffffff",fontSize:12,fontWeight:"normal",padding:4,backgroundColor:"rgba(0, 0, 0, 0.5)"},defaultMessageStyles:c={color:"#2445FF",fontSize:12,fontWeight:"normal",backgroundColor:"none"},enableMinimap:u=!0,enableZoom:l=!0,enableDrag:h=!0,enableHover:f=!0,simulationConfig:d={linkDistance:200,chargeStrength:-4e3,collisionRadius:100,alphaDecay:.01,alphaMin:.001},fitOnMount:_=!0,centerForce:v=.1,zoomLevel:y,minZoom:g=.1,maxZoom:x=4,theme:b="light",onNodeHover:p,onNodeBlur:N,onLinkHover:k,onLinkBlur:M,onNodeClick:q,onLinkClick:S,onCanvasClick:V,onZoomChange:P,onNodeDragStart:Z,onNodeDrag:et,onNodeDragEnd:m,customNodeRenderer:C,customLinkRenderer:w,customLabelRenderer:z,enableVirtualization:L=!1,maxRenderNodes:$=1e3,maxRenderLinks:T=2e3})=>{const R=I.useRef(null),W=I.useRef(null),Q=I.useRef(),U=I.useMemo(()=>t.map(D=>({...D,x:D.x||void 0,y:D.y||void 0,vx:D.vx||void 0,vy:D.vy||void 0,index:D.index||void 0})),[t]),j=I.useMemo(()=>e.map(D=>({...D,source:D.source||void 0,target:D.target||void 0,index:D.index||void 0})),[e]),G=I.useMemo(()=>{const D=b==="dark";return{nodeStyles:{backgroundColor:D?"#374151":"#f3f4f6",borderColor:D?"#6b7280":"#d1d5db",...a},linkStyles:{linkColor:D?"#9ca3af":"#6b7280",...o},labelStyles:{fill:D?"#ffffff":"#1f2937",backgroundColor:D?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.9)",...s}}},[b,a,o,s]),{dimensions:nt}=ys({containerRef:W,width:n,height:r}),{handleZoom:K,fitGraphToContainer:_t}=vs({svgRef:R,zoomBehaviorRef:Q,minZoom:g,maxZoom:x,onZoomChange:P}),pt=xs({nodes:U,links:j,dimensions:nt,config:d,centerForce:v}),{dragBehavior:$t}=ws({simulation:pt.simulation,enableDrag:h,onNodeDragStart:Z,onNodeDrag:et,onNodeDragEnd:m}),{handleNodeHover:Vt,handleLinkHover:ne,handleCanvasClick:ke}=_s({svgRef:R,nodes:U,links:j,enableHover:f,onNodeHover:p,onNodeBlur:N,onLinkHover:k,onLinkBlur:M,onNodeClick:q,onLinkClick:S,onCanvasClick:V});I.useEffect(()=>{y&&K&&K(y)},[y]),I.useEffect(()=>{if(_&&_t){const D=setTimeout(()=>{_t()},1500);return()=>clearTimeout(D)}},[_]);const re=I.useCallback((D,Y)=>{var Dt;if(C)return C(D,Y,G.nodeStyles);const H={...G.nodeStyles,...Y.style},rt={...G.labelStyles,...H.labelStyle},ht=(F,B,A=0)=>({width:F+A*2,height:B+A*2,x:-(F/2+A),y:-(B/2+A)});switch(Y.shape){case"circle":{const F=H.width||H.height||Nt(Y.shape).width,B=H.padding||0,A=F+B;if(D.append("circle").attr("r",A).attr("fill",H.backgroundColor).attr("stroke",H.borderColor).attr("stroke-width",H.borderWidth),Y.image){const E=`clip-circle-${Y.id}`;D.append("clipPath").attr("id",E).append("circle").attr("r",F),D.append("image").attr("href",Y.image).attr("x",-F+B/2).attr("y",-F+B/2).attr("width",(F-B/2)*2).attr("height",(F-B/2)*2).attr("clip-path",`url(#${E})`)}break}case"square":case"rounded-square":{const F=H.padding||0,B=(H.width||Nt(Y.shape).width)-F,A=(H.height||Nt(Y.shape).height)-F,E=ht(B,A,F),X=Y.shape==="rounded-square";if(D.append("rect").attr("width",E.width).attr("height",E.height).attr("x",E.x).attr("y",E.y).attr("rx",X?H.borderRadius||10:0).attr("ry",X?H.borderRadius||10:0).attr("fill",H.backgroundColor).attr("stroke",H.borderColor).attr("stroke-width",H.borderWidth),Y.image){const J=`clip-${Y.shape}-${Y.id}`;D.append("clipPath").attr("id",J).append("rect").attr("width",B).attr("height",A).attr("x",-B/2).attr("y",-A/2).attr("rx",X?H.borderRadius||10:0).attr("ry",X?H.borderRadius||10:0),D.append("image").attr("href",Y.image).attr("x",-B/2+F/2).attr("y",-A/2+F/2).attr("width",B-F).attr("height",A-F).attr("clip-path",`url(#${J})`)}break}case"rectangle":case"rounded-rectangle":{const F=H.padding||0,B=(H.width||Nt(Y.shape).width)-F,A=(H.height||Nt(Y.shape).height)-F,E=ht(B,A,F),X=Y.shape==="rounded-rectangle";if(D.append("rect").attr("width",E.width).attr("height",E.height).attr("x",E.x).attr("y",E.y).attr("rx",X?H.borderRadius||10:0).attr("ry",X?H.borderRadius||10:0).attr("fill",H.backgroundColor).attr("stroke",H.borderColor).attr("stroke-width",H.borderWidth),Y.image){const J=`clip-rect-${Y.id}`;D.append("clipPath").attr("id",J).append("rect").attr("width",B).attr("height",A).attr("x",-B/2).attr("y",-A/2).attr("rx",X?H.borderRadius||10:0).attr("ry",X?H.borderRadius||10:0),D.append("image").attr("href",Y.image).attr("x",-B/2+F/2).attr("y",-A/2+F/2).attr("width",B-F).attr("height",A-F).attr("clip-path",`url(#${J})`)}break}default:{const F=H.padding||0,B=(H.width||Nt("rounded-square").width)-F,A=(H.height||Nt("rounded-square").height)-F,E=ht(B,A,F);D.append("rect").attr("width",E.width).attr("height",E.height).attr("x",E.x).attr("y",E.y).attr("rx",H.borderRadius||10).attr("ry",H.borderRadius||10).attr("fill",H.backgroundColor).attr("stroke",H.borderColor).attr("stroke-width",H.borderWidth)}}if(!Y.image&&Y.name&&D.append("text").attr("class",`node-name${Y.name.length>8?" truncate":""}`).attr("text-anchor","middle").attr("dominant-baseline","central").attr("fill",H.backgroundColor==="#ffffff"?"#1E2023":"#ffffff").style("font-size","16px").style("font-weight","bold").text(Y.name),Y.label){const F=Y.label.split(`
`),B=D.append("g").attr("class","node-label-group").attr("transform",`translate(0, ${ps(Y)})`),A=(E,X=10)=>E?E.split(`
`).flatMap(lt=>{const gt=lt.split(" "),at=[];let O="";return gt.forEach(mt=>{O.length+mt.length<=X?O+=(O.length===0?"":" ")+mt:(O.length>0&&at.push(O),O=mt)}),O.length>0&&at.push(O),at}):[];if(F.forEach((E,X)=>{const J=A(E);J.forEach((lt,gt)=>{B.append("text").attr("class","node-label").attr("dy",(gt+X*J.length)*(rt.fontSize||12)*1.2).attr("text-anchor","middle").attr("fill",rt.fill).style("font-size",`${rt.fontSize}px`).style("font-weight",X===0?"500":rt.fontWeight||"400").text(lt)})}),rt.backgroundColor&&rt.backgroundColor!=="none"){const E=(Dt=B.node())==null?void 0:Dt.getBBox();E&&B.insert("rect","text").attr("width",E.width+(rt.padding||4)*2).attr("height",E.height+(rt.padding||4)*2).attr("x",E.x-(rt.padding||4)).attr("y",E.y-(rt.padding||4)).attr("fill",rt.backgroundColor).attr("opacity",.7).attr("rx",2).attr("ry",2)}}},[G,C]);I.useEffect(()=>{if(!R.current)return;const D=tt(R.current);D.selectAll("*").remove(),n&&D.attr("width",n),r&&D.attr("height",r),l&&(Q.current=ds().scaleExtent([g,x]).on("zoom",A=>{Y.attr("transform",A.transform),P&&P(A.transform.k)}),D.call(Q.current));const Y=D.append("g"),H=D.append("defs"),rt=new Set(j.map(A=>{var E;return((E=A.style)==null?void 0:E.linkColor)||G.linkStyles.linkColor}));H.selectAll("marker").data(Array.from(rt)).join("marker").attr("id",A=>`arrow-${A==null?void 0:A.replace("#","")}`).attr("viewBox","0 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",A=>A||G.linkStyles.linkColor).attr("d","M0,-5L10,0L0,5C1,3,1,-3,0,-5Z");const ht=L?U.slice(0,$):U,Dt=L?j.slice(0,T):j,F=Y.append("g").attr("class","links").selectAll("g").data(Dt).join("g");w?F.each(function(A){w(tt(this),A,G.linkStyles)}):(F.append("path").attr("stroke",E=>{var X;return((X=E.style)==null?void 0:X.linkColor)||G.linkStyles.linkColor}).attr("stroke-width",E=>{var X;return((X=E.style)==null?void 0:X.linkWidth)||G.linkStyles.linkWidth}).attr("stroke-dasharray",E=>{var X;return(((X=E.style)==null?void 0:X.linkType)||G.linkStyles.linkType)==="dashed"?"5,5":""}).attr("marker-end",E=>{var X;return`url(#arrow-${(((X=E.style)==null?void 0:X.linkColor)||G.linkStyles.linkColor).replace("#","")})`}).attr("fill","none"),F.append("g").attr("class","label-container").each(function(E){var O,mt,Ct;if(!E.label)return;const X=tt(this),J={...G.labelStyles,...(O=E.style)==null?void 0:O.labelStyle},lt=X.append("rect").attr("rx",4).attr("ry",4).attr("fill",J.backgroundColor).attr("opacity",.9).attr("stroke","white").attr("stroke-width",2),at=(mt=X.append("text").attr("class","link-label").attr("dy","0.35em").attr("text-anchor","middle").attr("fill",J.fill).style("font-size",`${J.fontSize}px`).style("font-weight",J.fontWeight).style("pointer-events","none").text(E.label).node())==null?void 0:mt.getBBox();if(at){const ct=J.padding||4;lt.attr("x",-at.width/2-ct).attr("y",-at.height/2-ct).attr("width",at.width+ct*2).attr("height",at.height+ct*2)}if(E.message){const ct={...c,...(Ct=E.style)==null?void 0:Ct.messageStyle};X.append("text").attr("class","link-message").attr("dy","-1.5em").attr("text-anchor","middle").attr("fill",ct.color).style("font-size",`${ct.fontSize}px`).style("font-weight",ct.fontWeight).style("pointer-events","none").text(E.message)}}));const B=Y.append("g").attr("class","nodes").selectAll("g").data(ht).join("g");return h&&$t&&B.call($t),B.each(function(A){re(tt(this),A)}),f&&(B.on("mouseover",Vt).on("mouseout",(A,E)=>Vt(A,null)).on("click",(A,E)=>{A.stopPropagation(),q&&q(E,A)}),F.on("mouseover",ne).on("mouseout",(A,E)=>ne(A,null)).on("click",(A,E)=>{A.stopPropagation(),S&&S(E,A)}),D.on("click",ke)),pt&&pt.simulation&&(pt.simulation.on("tick",()=>{F.selectAll("path").attr("d",A=>{const E=ht.find(Me=>Me.id===(A.source.id||A.source)),X=ht.find(Me=>Me.id===(A.target.id||A.target));if(!E||!X)return"";const J=vn(E,!0),lt=vn(X,!1),gt=(X.x||0)-(E.x||0),at=(X.y||0)-(E.y||0),O=Math.atan2(at,gt),mt=(E.x||0)+J*Math.cos(O),Ct=(E.y||0)+J*Math.sin(O),ct=(X.x||0)-lt*Math.cos(O),Yt=(X.y||0)-lt*Math.sin(O),Ne=(mt+ct)/2,Ft=(Ct+Yt)/2,Ue=A.shape==="curved"?.2:0,Gn=Ne-Ue*(Yt-Ct),Kn=Ft+Ue*(ct-mt);return`M${mt},${Ct} Q${Gn},${Kn} ${ct},${Yt}`}),F.selectAll(".label-container").attr("transform",A=>{const E=ht.find(Ft=>Ft.id===(A.source.id||A.source)),X=ht.find(Ft=>Ft.id===(A.target.id||A.target));if(!E||!X)return"";const J=E.x||0,lt=E.y||0,gt=X.x||0,at=X.y||0,O=.5,mt=(1-O)*(1-O)*J+2*(1-O)*O*((J+gt)/2)+O*O*gt,Ct=(1-O)*(1-O)*lt+2*(1-O)*O*((lt+at)/2)+O*O*at,ct=2*(1-O)*((J+gt)/2-J)+2*O*(gt-(J+gt)/2),Yt=2*(1-O)*((lt+at)/2-lt)+2*O*(at-(lt+at)/2),Ne=Math.atan2(Yt,ct)*180/Math.PI;return`translate(${mt},${Ct}) rotate(${Ne})`}),B.attr("transform",A=>`translate(${A.x},${A.y})`)}),pt.simulation.alpha(1).restart()),()=>{pt&&pt.simulation&&pt.simulation.stop()}},[U,j,nt,G,l,h,f,L,$,T,g,x,$t,pt]);const ie=["network-graph-container","relative size-full overflow-hidden rounded-lg",b==="dark"?"bg-gray-900":"bg-white","[&_svg]:cursor-default",i].filter(Boolean).join(" ");return it.jsxs("div",{ref:W,className:ie,children:[it.jsx("svg",{ref:R,className:"size-full"}),u&&it.jsx(Re,{svgRef:R,zoomBehaviorRef:Q})]})};try{xn.displayName="NetworkGraph",xn.__docgenInfo={description:"",displayName:"NetworkGraph",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"Node[]"}},links:{defaultValue:null,description:"",name:"links",required:!0,type:{name:"Link[]"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},defaultNodeStyles:{defaultValue:{value:`{
    backgroundColor: "#222",
    padding: 10,
    borderColor: "#999",
    borderWidth: 0,
  }`},description:"",name:"defaultNodeStyles",required:!1,type:{name:"NodeStyle"}},defaultLinkStyles:{defaultValue:{value:`{
    linkColor: "#666",
    linkWidth: 2,
    linkType: "solid",
  }`},description:"",name:"defaultLinkStyles",required:!1,type:{name:"LinkStyle"}},defaultLabelStyles:{defaultValue:{value:`{
    fill: "#ffffff",
    fontSize: 12,
    fontWeight: "normal",
    padding: 4,
    backgroundColor: "rgba(0, 0, 0, 0.5)",
  }`},description:"",name:"defaultLabelStyles",required:!1,type:{name:"LabelStyle"}},defaultMessageStyles:{defaultValue:{value:`{
    color: "#2445FF",
    fontSize: 12,
    fontWeight: "normal",
    backgroundColor: "none",
  }`},description:"",name:"defaultMessageStyles",required:!1,type:{name:"MessageStyle"}},enableMinimap:{defaultValue:{value:"true"},description:"",name:"enableMinimap",required:!1,type:{name:"boolean"}},enableZoom:{defaultValue:{value:"true"},description:"",name:"enableZoom",required:!1,type:{name:"boolean"}},enableDrag:{defaultValue:{value:"true"},description:"",name:"enableDrag",required:!1,type:{name:"boolean"}},enableHover:{defaultValue:{value:"true"},description:"",name:"enableHover",required:!1,type:{name:"boolean"}},simulationConfig:{defaultValue:{value:`{
    linkDistance: 200,
    chargeStrength: -4000,
    collisionRadius: 100,
    alphaDecay: 0.01,
    alphaMin: 0.001,
  }`},description:"",name:"simulationConfig",required:!1,type:{name:"SimulationConfig"}},fitOnMount:{defaultValue:{value:"true"},description:"",name:"fitOnMount",required:!1,type:{name:"boolean"}},centerForce:{defaultValue:{value:"0.1"},description:"",name:"centerForce",required:!1,type:{name:"number"}},zoomLevel:{defaultValue:null,description:"",name:"zoomLevel",required:!1,type:{name:"number"}},minZoom:{defaultValue:{value:"0.1"},description:"",name:"minZoom",required:!1,type:{name:"number"}},maxZoom:{defaultValue:{value:"4"},description:"",name:"maxZoom",required:!1,type:{name:"number"}},theme:{defaultValue:{value:"light"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},onNodeHover:{defaultValue:null,description:"",name:"onNodeHover",required:!1,type:{name:"NodeEventHandler"}},onNodeBlur:{defaultValue:null,description:"",name:"onNodeBlur",required:!1,type:{name:"NodeEventHandler"}},onLinkHover:{defaultValue:null,description:"",name:"onLinkHover",required:!1,type:{name:"LinkEventHandler"}},onLinkBlur:{defaultValue:null,description:"",name:"onLinkBlur",required:!1,type:{name:"LinkEventHandler"}},onNodeClick:{defaultValue:null,description:"",name:"onNodeClick",required:!1,type:{name:"NodeEventHandler"}},onLinkClick:{defaultValue:null,description:"",name:"onLinkClick",required:!1,type:{name:"LinkEventHandler"}},onCanvasClick:{defaultValue:null,description:"",name:"onCanvasClick",required:!1,type:{name:"CanvasEventHandler"}},onZoomChange:{defaultValue:null,description:"",name:"onZoomChange",required:!1,type:{name:"ZoomEventHandler"}},onNodeDragStart:{defaultValue:null,description:"",name:"onNodeDragStart",required:!1,type:{name:"NodeDragHandler"}},onNodeDrag:{defaultValue:null,description:"",name:"onNodeDrag",required:!1,type:{name:"NodeDragHandler"}},onNodeDragEnd:{defaultValue:null,description:"",name:"onNodeDragEnd",required:!1,type:{name:"NodeDragHandler"}},customNodeRenderer:{defaultValue:null,description:"",name:"customNodeRenderer",required:!1,type:{name:"CustomNodeRenderer"}},customLinkRenderer:{defaultValue:null,description:"",name:"customLinkRenderer",required:!1,type:{name:"CustomLinkRenderer"}},customLabelRenderer:{defaultValue:null,description:"",name:"customLabelRenderer",required:!1,type:{name:"CustomLabelRenderer"}},enableVirtualization:{defaultValue:{value:"false"},description:"",name:"enableVirtualization",required:!1,type:{name:"boolean"}},maxRenderNodes:{defaultValue:{value:"1000"},description:"",name:"maxRenderNodes",required:!1,type:{name:"number"}},maxRenderLinks:{defaultValue:{value:"2000"},description:"",name:"maxRenderLinks",required:!1,type:{name:"number"}}}}}catch{}const $s=t=>{const e=["circle","square","rectangle","rounded-square","rounded-rectangle"];return Array.from({length:t},(n,r)=>({id:`node-${r}`,name:`Node ${r+1}`,label:`Label for node ${r+1}`,shape:e[r%e.length],style:{backgroundColor:`hsl(${r*137.5%360}, 70%, 60%)`,borderColor:`hsl(${r*137.5%360}, 70%, 40%)`,borderWidth:2}}))},Cs=t=>{const e=[];for(let n=0;n<t-1;n++)e.push({source:`node-${n}`,target:`node-${n+1}`,label:`Link ${n+1}`});for(let n=0;n<Math.min(t/2,10);n++){const r=Math.floor(Math.random()*t),i=Math.floor(Math.random()*t);r!==i&&e.push({source:`node-${r}`,target:`node-${i}`,style:{linkType:"dashed",linkColor:"#ff6b6b"}})}return e};export{xn as N,$s as a,Cs as g};

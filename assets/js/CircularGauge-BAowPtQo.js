import{j as e}from"./jsx-runtime-DdxpLdx6.js";import{r as x}from"./index-Bk7LAl9r.js";const Ie={primary:{progress:"#3b82f6",filledTicks:"#3b82f6"},success:{progress:"#10b981",filledTicks:"#10b981"},warning:{progress:"#f59e0b",filledTicks:"#f59e0b"},error:{progress:"#ef4444",filledTicks:"#ef4444"},info:{progress:"#06b6d4",filledTicks:"#06b6d4"},custom:{}},Re={linear:t=>t,"ease-in":t=>t*t,"ease-out":t=>1-Math.pow(1-t,2),"ease-in-out":t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},te=({value:t,max:M=100,min:c=0,unit:I="",label:C,size:d=200,thickness:y=8,tickCount:N=40,startAngle:S=-90,endAngle:z=270,animated:w=!1,animationDuration:R=1e3,animationEasing:_="ease-out",showTicks:re=!0,showValue:le=!0,showLabel:se=!0,valueFormatter:U,gradient:a,variant:ne="primary",colors:m={},tickConfig:ie={},progressConfig:T={},className:oe="",containerClassName:ue="",valueClassName:ce="",labelClassName:de="",tickClassName:me="",filledTickClassName:fe="",majorTickClassName:pe="",tickLabelClassName:be="",style:ye,containerStyle:ge,valueStyle:ve,labelStyle:he,"aria-label":Ve,"aria-describedby":ke,onAnimationComplete:G,onValueChange:v,renderValue:B,renderLabel:H,renderCenterContent:J,shouldAnimate:K,tooltip:O={}})=>{const[r,Q]=x.useState(w?c:t),[qe,X]=x.useState(!1),f=x.useRef(),A=x.useRef(w?c:t),o=Math.max(c,Math.min(M,t)),xe=o;x.useEffect(()=>{if(A.current===o)return;if(!(K?K(o,A.current):w)){Q(o),A.current=o,v==null||v(o);return}f.current&&cancelAnimationFrame(f.current);const h=Date.now(),s=r,V=o,g=R,k=Re[_];X(!0);const q=()=>{const F=Date.now()-h,n=Math.min(F/g,1),L=k(n),u=s+(V-s)*L;Q(u),v==null||v(u),n<1?f.current=requestAnimationFrame(q):(X(!1),A.current=o,G==null||G())};return f.current=requestAnimationFrame(q),()=>{f.current&&cancelAnimationFrame(f.current)}},[o,w,R,_,r]),x.useEffect(()=>()=>{f.current&&cancelAnimationFrame(f.current)},[]);const l=d/2,p=l-y/2-10,Y=(r-c)/(M-c)*100,Z=z-S,Ce=Y/100*Z,E=Ie[ne],b={track:m.track||"#e5e7eb",progress:m.progress||E.progress||"#3b82f6",ticks:m.ticks||"#d1d5db",filledTicks:m.filledTicks||E.filledTicks||m.progress||E.progress||"#3b82f6",value:m.value||"#111827",label:m.label||"#6b7280",background:m.background||"transparent"},ee=(i,h,s)=>{const V=i*Math.PI/180,g=h*Math.PI/180,k=l+s*Math.cos(V),q=l+s*Math.sin(V),F=l+s*Math.cos(g),n=l+s*Math.sin(g),L=Math.abs(h-i)>180?1:0;return`M ${k} ${q} A ${s} ${s} 0 ${L} 1 ${F} ${n}`},Ne=ee(S,z,p),Se=ee(S,S+Ce,p),je=()=>{if(!re||N===0)return null;const{majorInterval:i=5,majorLength:h=1.5,minorLength:s=1,showLabels:V=!1,labelFormatter:g,labelOffset:k=15}=ie,q=Math.round(Y/100*N);return Array.from({length:N}).map((F,n)=>{const u=(S+n/(N-1)*Z)*Math.PI/180,D=n%i===0,P=D?h:s,we=l+(p+y/4*P)*Math.cos(u),Te=l+(p+y/4*P)*Math.sin(u),Ae=l+(p-y/4*P)*Math.cos(u),$e=l+(p-y/4*P)*Math.sin(u),W=n<=q,Fe=W?b.filledTicks:b.ticks,Le=W?2:1,ae=c+n/(N-1)*(M-c),Pe=g?g(ae,n):Math.round(ae).toString();return e.jsxs("g",{children:[e.jsx("line",{x1:we,y1:Te,x2:Ae,y2:$e,stroke:Fe,strokeWidth:Le,className:`${W?fe:me} ${D?pe:""}`}),V&&D&&e.jsx("text",{x:l+(p+k)*Math.cos(u),y:l+(p+k)*Math.sin(u),textAnchor:"middle",dominantBaseline:"central",className:be,style:{fontSize:d*.04,fill:b.ticks,fontFamily:"inherit"},children:Pe})]},n)})},j=i=>U?U(i):Number.isInteger(i)?i.toString():i.toFixed(1),$=(a==null?void 0:a.id)||`gauge-gradient-${Math.random().toString(36).substr(2,9)}`,Me=()=>J?J(r,j(r),C):e.jsxs(e.Fragment,{children:[le&&(B?B(r,j(r)):e.jsxs("span",{className:`font-bold ${ce}`,style:{color:b.value,fontSize:d*.12,...ve},children:[j(r),I]})),se&&C&&(H?H(C):e.jsx("span",{className:`mt-1 text-sm ${de}`,style:{color:b.label,fontSize:d*.06,...he},children:C}))]});return e.jsxs("div",{className:`relative inline-block ${ue}`,style:{width:d,height:d,backgroundColor:b.background,...ge},role:"meter","aria-valuemin":c,"aria-valuemax":M,"aria-valuenow":xe,"aria-label":Ve||`${C||"Gauge"}: ${j(r)}${I}`,"aria-describedby":ke,title:O.enabled?O.formatter?O.formatter(r):`${j(r)}${I}`:void 0,children:[e.jsxs("svg",{width:d,height:d,className:oe,style:{overflow:"visible",...ye},children:[e.jsxs("defs",{children:[a&&e.jsxs("linearGradient",{id:$,x1:(a.direction==="vertical","0%"),y1:(a.direction==="vertical","0%"),x2:a.direction==="vertical"?"0%":"100%",y2:a.direction==="vertical"?"100%":"0%",children:[e.jsx("stop",{offset:"0%",stopColor:a.from}),e.jsx("stop",{offset:"100%",stopColor:a.to})]}),(a==null?void 0:a.direction)==="radial"&&e.jsxs("radialGradient",{id:`${$}-radial`,cx:"50%",cy:"50%",r:"50%",children:[e.jsx("stop",{offset:"0%",stopColor:a.from}),e.jsx("stop",{offset:"100%",stopColor:a.to})]})]}),e.jsx("path",{d:Ne,fill:"none",stroke:b.track,strokeWidth:y,strokeLinecap:T.lineCap||"round"}),e.jsx("path",{d:Se,fill:"none",stroke:a?a.direction==="radial"?`url(#${$}-radial)`:`url(#${$})`:b.progress,strokeWidth:y,strokeLinecap:T.lineCap||"round",strokeDasharray:T.dashArray,strokeDashoffset:T.dashOffset,style:{transition:qe?void 0:`stroke-dashoffset ${R}ms ${_}`}}),je()]}),e.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col items-center justify-center",children:Me()})]})};try{te.displayName="CircularGauge",te.__docgenInfo={description:"",displayName:"CircularGauge",props:{value:{defaultValue:null,description:"Current value to display",name:"value",required:!0,type:{name:"number"}},max:{defaultValue:{value:"100"},description:"Maximum value for the gauge (default: 100)",name:"max",required:!1,type:{name:"number"}},min:{defaultValue:{value:"0"},description:"Minimum value for the gauge (default: 0)",name:"min",required:!1,type:{name:"number"}},unit:{defaultValue:{value:""},description:"Unit to display after the value",name:"unit",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label text below the value",name:"label",required:!1,type:{name:"string"}},size:{defaultValue:{value:"200"},description:"Size of the gauge in pixels",name:"size",required:!1,type:{name:"number"}},thickness:{defaultValue:{value:"8"},description:"Thickness of the gauge track",name:"thickness",required:!1,type:{name:"number"}},tickCount:{defaultValue:{value:"40"},description:"Number of ticks around the gauge",name:"tickCount",required:!1,type:{name:"number"}},startAngle:{defaultValue:{value:"-90"},description:"Start angle in degrees (0 = top, 90 = right)",name:"startAngle",required:!1,type:{name:"number"}},endAngle:{defaultValue:{value:"270"},description:"End angle in degrees for partial gauges",name:"endAngle",required:!1,type:{name:"number"}},animated:{defaultValue:{value:"false"},description:"Show animated progress",name:"animated",required:!1,type:{name:"boolean"}},animationDuration:{defaultValue:{value:"1000"},description:"Animation duration in milliseconds",name:"animationDuration",required:!1,type:{name:"number"}},animationEasing:{defaultValue:{value:"ease-out"},description:"Animation easing function",name:"animationEasing",required:!1,type:{name:"enum",value:[{value:'"linear"'},{value:'"ease-in"'},{value:'"ease-out"'},{value:'"ease-in-out"'}]}},showTicks:{defaultValue:{value:"true"},description:"Show ticks",name:"showTicks",required:!1,type:{name:"boolean"}},showValue:{defaultValue:{value:"true"},description:"Show value text",name:"showValue",required:!1,type:{name:"boolean"}},showLabel:{defaultValue:{value:"true"},description:"Show label text",name:"showLabel",required:!1,type:{name:"boolean"}},valueFormatter:{defaultValue:null,description:"Format function for the displayed value",name:"valueFormatter",required:!1,type:{name:"(value: number) => string"}},gradient:{defaultValue:null,description:"Gradient colors for the progress arc",name:"gradient",required:!1,type:{name:'{ from: string; to: string; id?: string; direction?: "horizontal" | "vertical" | "radial"; }'}},variant:{defaultValue:{value:"primary"},description:"Color variants",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"info"'},{value:'"custom"'}]}},colors:{defaultValue:{value:"{}"},description:"Custom colors",name:"colors",required:!1,type:{name:"{ track?: string; progress?: string; ticks?: string; filledTicks?: string; value?: string; label?: string; background?: string; }"}},tickConfig:{defaultValue:{value:"{}"},description:"Tick configuration",name:"tickConfig",required:!1,type:{name:"{ majorInterval?: number; majorLength?: number; minorLength?: number; showLabels?: boolean; labelFormatter?: (value: number, index: number) => string; labelOffset?: number; }"}},progressConfig:{defaultValue:{value:"{}"},description:"Progress bar configuration",name:"progressConfig",required:!1,type:{name:'{ lineCap?: "round" | "butt" | "square"; dashArray?: string; dashOffset?: number; }'}},className:{defaultValue:{value:""},description:"CSS classes",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:{value:""},description:"",name:"containerClassName",required:!1,type:{name:"string"}},valueClassName:{defaultValue:{value:""},description:"",name:"valueClassName",required:!1,type:{name:"string"}},labelClassName:{defaultValue:{value:""},description:"",name:"labelClassName",required:!1,type:{name:"string"}},tickClassName:{defaultValue:{value:""},description:"",name:"tickClassName",required:!1,type:{name:"string"}},filledTickClassName:{defaultValue:{value:""},description:"",name:"filledTickClassName",required:!1,type:{name:"string"}},majorTickClassName:{defaultValue:{value:""},description:"",name:"majorTickClassName",required:!1,type:{name:"string"}},tickLabelClassName:{defaultValue:{value:""},description:"",name:"tickLabelClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Custom styles",name:"style",required:!1,type:{name:"CSSProperties"}},containerStyle:{defaultValue:null,description:"",name:"containerStyle",required:!1,type:{name:"CSSProperties"}},valueStyle:{defaultValue:null,description:"",name:"valueStyle",required:!1,type:{name:"CSSProperties"}},labelStyle:{defaultValue:null,description:"",name:"labelStyle",required:!1,type:{name:"CSSProperties"}},"aria-label":{defaultValue:null,description:"Accessibility",name:"aria-label",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"",name:"aria-describedby",required:!1,type:{name:"string"}},onAnimationComplete:{defaultValue:null,description:"Callbacks",name:"onAnimationComplete",required:!1,type:{name:"() => void"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"(value: number) => void"}},renderValue:{defaultValue:null,description:"Render props for custom content",name:"renderValue",required:!1,type:{name:"(value: number, formattedValue: string) => ReactNode"}},renderLabel:{defaultValue:null,description:"",name:"renderLabel",required:!1,type:{name:"(label: string) => ReactNode"}},renderCenterContent:{defaultValue:null,description:"",name:"renderCenterContent",required:!1,type:{name:"(value: number, formattedValue: string, label?: string) => ReactNode"}},shouldAnimate:{defaultValue:null,description:"Performance optimization",name:"shouldAnimate",required:!1,type:{name:"(newValue: number, oldValue: number) => boolean"}},tooltip:{defaultValue:{value:"{}"},description:"Tooltip configuration",name:"tooltip",required:!1,type:{name:'{ enabled?: boolean; formatter?: (value: number) => string; position?: "top" | "bottom" | "left" | "right"; }'}}}}}catch{}export{te as C};
